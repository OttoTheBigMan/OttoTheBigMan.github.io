import{S as ge,i as be,s as ye,k as p,a as V,q as W,l as g,m as N,h,c as B,r as Y,n as c,E as z,b as R,F as a,G as P,B as re,P as _e,R as Z,w as Ce,x as Ee,D as ce,y as Ne,f as ue,t as Ie,z as Te,K as Re,o as qe,u as Me,T as We,U as Ye,Q as Be}from"../../../chunks/index-4ad5b0ac.js";import{f as Xe}from"../../../chunks/index-a2479f16.js";function Ke(l){let e,t,n;return{c(){e=p("input"),this.h()},l(i){e=g(i,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"placeholder","What to do..."),c(e,"class","svelte-y310dz")},m(i,u){R(i,e,u),Z(e,l[2].value),t||(n=P(e,"input",l[10]),t=!0)},p(i,u){u&4&&e.value!==i[2].value&&Z(e,i[2].value)},d(i){i&&h(e),t=!1,n()}}}function Qe(l){let e,t,n,i,u,s;return{c(){e=p("div"),t=p("input"),n=V(),i=p("input"),this.h()},l(o){e=g(o,"DIV",{id:!0,class:!0});var b=N(e);t=g(b,"INPUT",{type:!0,placeholder:!0,class:!0}),n=B(b),i=g(b,"INPUT",{type:!0,placeholder:!0,class:!0}),b.forEach(h),this.h()},h(){c(t,"type","text"),c(t,"placeholder","Link url goes here..."),c(t,"class","svelte-y310dz"),c(i,"type","text"),c(i,"placeholder","Link text goes here..."),c(i,"class","svelte-y310dz"),c(e,"id","hehehehaw"),c(e,"class","svelte-y310dz")},m(o,b){R(o,e,b),a(e,t),Z(t,l[2].path),a(e,n),a(e,i),Z(i,l[2].value),u||(s=[P(t,"input",l[8]),P(i,"input",l[9])],u=!0)},p(o,b){b&4&&t.value!==o[2].path&&Z(t,o[2].path),b&4&&i.value!==o[2].value&&Z(i,o[2].value)},d(o){o&&h(e),u=!1,_e(s)}}}function Ze(l){let e,t,n;return{c(){e=p("input"),this.h()},l(i){e=g(i,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"placeholder","Paste image URL..."),c(e,"class","svelte-y310dz")},m(i,u){R(i,e,u),Z(e,l[2].value),t||(n=P(e,"input",l[7]),t=!0)},p(i,u){u&4&&e.value!==i[2].value&&Z(e,i[2].value)},d(i){i&&h(e),t=!1,n()}}}function je(l){let e,t,n,i,u,s,o,b,f,y,C,T,L,U;function E(w,I){if(w[0]=="image")return Ze;if(w[0]=="link")return Qe;if(w[0]=="text")return Ke}let _=E(l),m=_&&_(l);return{c(){e=p("div"),t=p("button"),n=V(),i=p("h1"),u=W("Create new card"),s=V(),o=p("form"),m&&m.c(),b=V(),f=p("button"),y=W("Create card"),C=V(),T=p("div"),this.h()},l(w){e=g(w,"DIV",{class:!0});var I=N(e);t=g(I,"BUTTON",{id:!0,class:!0}),N(t).forEach(h),n=B(I),i=g(I,"H1",{class:!0});var q=N(i);u=Y(q,"Create new card"),q.forEach(h),s=B(I),o=g(I,"FORM",{class:!0});var G=N(o);m&&m.l(G),G.forEach(h),b=B(I),f=g(I,"BUTTON",{id:!0,class:!0});var S=N(f);y=Y(S,"Create card"),S.forEach(h),I.forEach(h),C=B(w),T=g(w,"DIV",{class:!0}),N(T).forEach(h),this.h()},h(){c(t,"id","closeButton"),c(t,"class","svelte-y310dz"),c(i,"class","svelte-y310dz"),c(o,"class","svelte-y310dz"),c(f,"id","CreateButton"),c(f,"class","svelte-y310dz"),c(e,"class","window svelte-y310dz"),z(e,"invisible",l[1]),c(T,"class","screenShade svelte-y310dz"),z(T,"invisible",l[1])},m(w,I){R(w,e,I),a(e,t),a(e,n),a(e,i),a(i,u),a(e,s),a(e,o),m&&m.m(o,null),a(e,b),a(e,f),a(f,y),R(w,C,I),R(w,T,I),L||(U=[P(t,"click",l[4]),P(o,"submit",l[3]),P(f,"click",l[3])],L=!0)},p(w,[I]){_===(_=E(w))&&m?m.p(w,I):(m&&m.d(1),m=_&&_(w),m&&(m.c(),m.m(o,null))),I&2&&z(e,"invisible",w[1]),I&2&&z(T,"invisible",w[1])},i:re,o:re,d(w){w&&h(e),m&&m.d(),w&&h(C),w&&h(T),L=!1,_e(U)}}}function xe(l,e,t){let{type:n}=e,{invisible:i=!0}=e,{createFunction:u=void 0}=e,{closeFunction:s=void 0}=e;const o={moving:!0,type:n,path:void 0,value:""};function b(){t(2,o.type=n,o),u(o),t(2,o.path="",o),t(2,o.value="",o)}function f(){t(2,o.type=n,o),s(),t(2,o.value="",o),t(2,o.path="",o)}function y(){o.value=this.value,t(2,o)}function C(){o.path=this.value,t(2,o)}function T(){o.value=this.value,t(2,o)}function L(){o.value=this.value,t(2,o)}return l.$$set=U=>{"type"in U&&t(0,n=U.type),"invisible"in U&&t(1,i=U.invisible),"createFunction"in U&&t(5,u=U.createFunction),"closeFunction"in U&&t(6,s=U.closeFunction)},[n,i,o,b,f,u,s,y,C,T,L]}class $e extends ge{constructor(e){super(),be(this,e,xe,je,ye,{type:0,invisible:1,createFunction:5,closeFunction:6})}}function et(l){let e,t,n,i,u,s,o,b,f,y,C,T,L,U;return{c(){e=p("div"),t=p("button"),n=V(),i=p("h1"),u=W("Create New List"),s=V(),o=p("input"),b=V(),f=p("button"),y=W("Create list"),C=V(),T=p("div"),this.h()},l(E){e=g(E,"DIV",{class:!0});var _=N(e);t=g(_,"BUTTON",{id:!0,class:!0}),N(t).forEach(h),n=B(_),i=g(_,"H1",{class:!0});var m=N(i);u=Y(m,"Create New List"),m.forEach(h),s=B(_),o=g(_,"INPUT",{type:!0,placeholder:!0,class:!0}),b=B(_),f=g(_,"BUTTON",{id:!0,class:!0});var w=N(f);y=Y(w,"Create list"),w.forEach(h),_.forEach(h),C=B(E),T=g(E,"DIV",{class:!0}),N(T).forEach(h),this.h()},h(){c(t,"id","closeButton"),c(t,"class","svelte-1nbe866"),c(i,"class","svelte-1nbe866"),c(o,"type","text"),c(o,"placeholder","Title goes here..."),c(o,"class","svelte-1nbe866"),c(f,"id","CreateButton"),c(f,"class","svelte-1nbe866"),c(e,"class","window svelte-1nbe866"),z(e,"invisible",l[0]),c(T,"class","screenShade svelte-1nbe866"),z(T,"invisible",l[0])},m(E,_){R(E,e,_),a(e,t),a(e,n),a(e,i),a(i,u),a(e,s),a(e,o),Z(o,l[1]),a(e,b),a(e,f),a(f,y),R(E,C,_),R(E,T,_),L||(U=[P(t,"click",l[3]),P(o,"input",l[6]),P(o,"submit",l[2]),P(f,"click",l[2])],L=!0)},p(E,[_]){_&2&&o.value!==E[1]&&Z(o,E[1]),_&1&&z(e,"invisible",E[0]),_&1&&z(T,"invisible",E[0])},i:re,o:re,d(E){E&&h(e),E&&h(C),E&&h(T),L=!1,_e(U)}}}function tt(l,e,t){let{invisible:n=!0}=e,{createFunction:i=void 0}=e,{closeFunction:u=void 0}=e,s="";const o={isMoving:!1,title:s,cards:[],elements:[]};function b(){o.title=JSON.parse(JSON.stringify(s)),i(o),t(1,s="")}function f(){u(),t(1,s="")}function y(){s=this.value,t(1,s)}return l.$$set=C=>{"invisible"in C&&t(0,n=C.invisible),"createFunction"in C&&t(4,i=C.createFunction),"closeFunction"in C&&t(5,u=C.closeFunction)},[n,s,b,f,i,u,y]}class st extends ge{constructor(e){super(),be(this,e,tt,et,ye,{invisible:0,createFunction:4,closeFunction:5})}}function lt(l){let e,t,n;return{c(){e=p("div"),t=V(),n=p("div"),this.h()},l(i){e=g(i,"DIV",{id:!0,class:!0});var u=N(e);u.forEach(h),t=B(i),n=g(i,"DIV",{id:!0,class:!0});var s=N(n);s.forEach(h),this.h()},h(){c(e,"id","flashbang"),c(e,"class","svelte-1wgtpb1"),z(e,"invis",l[0]),c(n,"id","heisenberg"),c(n,"class","svelte-1wgtpb1"),z(n,"invis",l[0])},m(i,u){R(i,e,u),R(i,t,u),R(i,n,u)},p(i,[u]){u&1&&z(e,"invis",i[0]),u&1&&z(n,"invis",i[0])},i:re,o:re,d(i){i&&h(e),i&&h(t),i&&h(n)}}}function nt(l,e,t){let{invis:n=!0}=e;return l.$$set=i=>{"invis"in i&&t(0,n=i.invis)},[n]}class it extends ge{constructor(e){super(),be(this,e,nt,lt,ye,{invis:0})}}function De(l,e,t){const n=l.slice();return n[43]=e[t],n[44]=e,n[45]=t,n}function Ue(l,e,t){const n=l.slice();return n[46]=e[t],n[48]=t,n}function Pe(l){let e,t,n,i,u,s;return{c(){e=p("div"),t=p("img"),i=V(),u=p("h2"),s=W("There is nothing..."),this.h()},l(o){e=g(o,"DIV",{id:!0,class:!0});var b=N(e);t=g(b,"IMG",{src:!0,alt:!0,class:!0}),i=B(b),u=g(b,"H2",{class:!0});var f=N(u);s=Y(f,"There is nothing..."),f.forEach(h),b.forEach(h),this.h()},h(){ce(t.src,n="/icons/empty.png")||c(t,"src",n),c(t,"alt","yup :)"),c(t,"class","svelte-dbeuh9"),c(u,"class","svelte-dbeuh9"),c(e,"id","empty-board"),c(e,"class","svelte-dbeuh9")},m(o,b){R(o,e,b),a(e,t),a(e,i),a(e,u),a(u,s)},d(o){o&&h(e)}}}function rt(l){let e,t;return{c(){e=p("img"),this.h()},l(n){e=g(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ce(e.src,t=l[46].value)||c(e,"src",t),c(e,"alt","crazy pic"),c(e,"class","svelte-dbeuh9")},m(n,i){R(n,e,i)},p(n,i){i[0]&4&&!ce(e.src,t=n[46].value)&&c(e,"src",t)},d(n){n&&h(e)}}}function ot(l){let e,t=l[46].value+"",n,i;return{c(){e=p("a"),n=W(t),this.h()},l(u){e=g(u,"A",{href:!0,class:!0});var s=N(e);n=Y(s,t),s.forEach(h),this.h()},h(){c(e,"href",i=l[46].path),c(e,"class","svelte-dbeuh9")},m(u,s){R(u,e,s),a(e,n)},p(u,s){s[0]&4&&t!==(t=u[46].value+"")&&Me(n,t),s[0]&4&&i!==(i=u[46].path)&&c(e,"href",i)},d(u){u&&h(e)}}}function ut(l){let e,t=l[46].value+"",n;return{c(){e=p("p"),n=W(t),this.h()},l(i){e=g(i,"P",{class:!0});var u=N(e);n=Y(u,t),u.forEach(h),this.h()},h(){c(e,"class","svelte-dbeuh9")},m(i,u){R(i,e,u),a(e,n)},p(i,u){u[0]&4&&t!==(t=i[46].value+"")&&Me(n,t)},d(i){i&&h(e)}}}function Je(l){let e,t,n,i;function u(f,y){if(f[46].type=="text")return ut;if(f[46].type=="link")return ot;if(f[46].type=="image")return rt}let s=u(l),o=s&&s(l);function b(){return l[29](l[45],l[48])}return{c(){e=p("div"),o&&o.c(),t=V(),this.h()},l(f){e=g(f,"DIV",{class:!0});var y=N(e);o&&o.l(y),t=B(y),y.forEach(h),this.h()},h(){c(e,"class","element svelte-dbeuh9"),z(e,"movingCard",l[46].moving)},m(f,y){R(f,e,y),o&&o.m(e,null),a(e,t),n||(i=P(e,"click",b),n=!0)},p(f,y){l=f,s===(s=u(l))&&o?o.p(l,y):(o&&o.d(1),o=s&&s(l),o&&(o.c(),o.m(e,t))),y[0]&4&&z(e,"movingCard",l[46].moving)},d(f){f&&h(e),o&&o.d(),n=!1,i()}}}function ze(l){let e,t,n,i,u,s,o=l[43].title+"",b,f,y,C,T,L,U,E=l[45],_,m,w;function I(){return l[27](l[45])}function q(){return l[28](l[45])}let G=l[43].cards,S=[];for(let D=0;D<G.length;D+=1)S[D]=Je(Ue(l,G,D));const le=()=>l[30](e,E),X=()=>l[30](null,E);return{c(){e=p("div"),t=p("div"),n=p("img"),u=V(),s=p("h1"),b=W(o),f=V(),y=p("img"),T=V(),L=p("div");for(let D=0;D<S.length;D+=1)S[D].c();U=V(),this.h()},l(D){e=g(D,"DIV",{class:!0});var O=N(e);t=g(O,"DIV",{class:!0});var M=N(t);n=g(M,"IMG",{class:!0,src:!0,alt:!0}),u=B(M),s=g(M,"H1",{class:!0});var H=N(s);b=Y(H,o),H.forEach(h),f=B(M),y=g(M,"IMG",{class:!0,id:!0,src:!0,alt:!0}),M.forEach(h),T=B(O),L=g(O,"DIV",{class:!0});var j=N(L);for(let x=0;x<S.length;x+=1)S[x].l(j);j.forEach(h),U=B(O),O.forEach(h),this.h()},h(){c(n,"class","icon svelte-dbeuh9"),ce(n.src,i="/icons/moveicon.png")||c(n,"src",i),c(n,"alt","move"),c(s,"class","svelte-dbeuh9"),c(y,"class","icon svelte-dbeuh9"),c(y,"id","deleteButton"),ce(y.src,C="/icons/settings.png")||c(y,"src",C),c(y,"alt","delete"),c(t,"class","topOfList svelte-dbeuh9"),c(L,"class","list svelte-dbeuh9"),c(e,"class","listParent svelte-dbeuh9"),z(e,"moving",l[43].isMoving)},m(D,O){R(D,e,O),a(e,t),a(t,n),a(t,u),a(t,s),a(s,b),a(t,f),a(t,y),a(e,T),a(e,L);for(let M=0;M<S.length;M+=1)S[M]&&S[M].m(L,null);a(e,U),le(),m||(w=[P(n,"click",I),P(n,"keypress",q)],m=!0)},p(D,O){if(l=D,O[0]&4&&o!==(o=l[43].title+"")&&Me(b,o),O[0]&4100){G=l[43].cards;let M;for(M=0;M<G.length;M+=1){const H=Ue(l,G,M);S[M]?S[M].p(H,O):(S[M]=Je(H),S[M].c(),S[M].m(L,null))}for(;M<S.length;M+=1)S[M].d(1);S.length=G.length}E!==l[45]&&(X(),E=l[45],le()),O[0]&4&&z(e,"moving",l[43].isMoving)},i(D){_||We(()=>{_=Ye(e,Xe,{y:-250,duration:750,delay:l[9]?250*l[45]:0}),_.start()})},o:re,d(D){D&&h(e),Re(S,D),X(),m=!1,_e(w)}}}function ct(l){let e,t,n,i,u,s,o,b,f,y,C,T,L,U,E,_,m,w,I,q,G,S,le,X,D,O,M,H,j,x,K,Q,ae,fe,$,he,de,ee,ne,ve,me;S=new $e({props:{type:l[6],invisible:!l[7],createFunction:l[17],closeFunction:l[16]}}),X=new st({props:{invisible:!l[8],createFunction:l[15],closeFunction:l[16]}});let A=l[2].length==0&&Pe(),te=l[2],J=[];for(let k=0;k<te.length;k+=1)J[k]=ze(De(l,te,k));return ee=new it({}),{c(){e=p("main"),t=p("div"),n=p("img"),u=V(),s=p("p"),o=W("Not Trello"),b=V(),f=p("div"),y=p("button"),C=W("Create text card"),T=V(),L=p("button"),U=W("Create image card"),E=V(),_=p("button"),m=W("Create link card"),w=V(),I=p("button"),q=W("Create new list"),G=V(),Ce(S.$$.fragment),le=V(),Ce(X.$$.fragment),D=V(),O=p("div"),M=V(),H=p("div"),A&&A.c(),j=V();for(let k=0;k<J.length;k+=1)J[k].c();x=V(),K=p("div"),Q=p("button"),ae=W("Save"),fe=V(),$=p("button"),he=W("Load"),de=V(),Ce(ee.$$.fragment),this.h()},l(k){e=g(k,"MAIN",{class:!0});var r=N(e);t=g(r,"DIV",{class:!0});var d=N(t);n=g(d,"IMG",{src:!0,alt:!0,class:!0}),u=B(d),s=g(d,"P",{class:!0});var F=N(s);o=Y(F,"Not Trello"),F.forEach(h),d.forEach(h),b=B(r),f=g(r,"DIV",{class:!0});var v=N(f);y=g(v,"BUTTON",{class:!0});var se=N(y);C=Y(se,"Create text card"),se.forEach(h),T=B(v),L=g(v,"BUTTON",{class:!0});var Se=N(L);U=Y(Se,"Create image card"),Se.forEach(h),E=B(v),_=g(v,"BUTTON",{class:!0});var Oe=N(_);m=Y(Oe,"Create link card"),Oe.forEach(h),w=B(v),I=g(v,"BUTTON",{class:!0});var Le=N(I);q=Y(Le,"Create new list"),Le.forEach(h),G=B(v),Ee(S.$$.fragment,v),le=B(v),Ee(X.$$.fragment,v),D=B(v),O=g(v,"DIV",{id:!0,class:!0});var Ae=N(O);Ae.forEach(h),v.forEach(h),M=B(r),H=g(r,"DIV",{class:!0});var pe=N(H);A&&A.l(pe),j=B(pe);for(let ke=0;ke<J.length;ke+=1)J[ke].l(pe);pe.forEach(h),x=B(r),K=g(r,"DIV",{class:!0});var oe=N(K);Q=g(oe,"BUTTON",{class:!0});var Fe=N(Q);ae=Y(Fe,"Save"),Fe.forEach(h),fe=B(oe),$=g(oe,"BUTTON",{class:!0});var Ve=N($);he=Y(Ve,"Load"),Ve.forEach(h),de=B(oe),Ee(ee.$$.fragment,oe),oe.forEach(h),r.forEach(h),this.h()},h(){ce(n.src,i="/logo.png")||c(n,"src",i),c(n,"alt","logo"),c(n,"class","svelte-dbeuh9"),c(s,"class","svelte-dbeuh9"),c(t,"class","logo svelte-dbeuh9"),c(y,"class","createNew svelte-dbeuh9"),c(L,"class","createNew svelte-dbeuh9"),c(_,"class","createNew svelte-dbeuh9"),c(I,"class","createNew svelte-dbeuh9"),c(O,"id","cardDelete"),c(O,"class","svelte-dbeuh9"),z(O,"fakeHover",l[4]),z(O,"cardIsMoving",l[3]||l[0]!=-1&&l[2][l[0]].isMoving),c(f,"class","section new svelte-dbeuh9"),c(H,"class","section main svelte-dbeuh9"),c(Q,"class","svelte-dbeuh9"),c($,"class","svelte-dbeuh9"),c(K,"class","section save-load-menu svelte-dbeuh9"),c(e,"class","bg svelte-dbeuh9")},m(k,r){R(k,e,r),a(e,t),a(t,n),a(t,u),a(t,s),a(s,o),a(e,b),a(e,f),a(f,y),a(y,C),a(f,T),a(f,L),a(L,U),a(f,E),a(f,_),a(_,m),a(f,w),a(f,I),a(I,q),a(f,G),Ne(S,f,null),a(f,le),Ne(X,f,null),a(f,D),a(f,O),l[24](O),a(e,M),a(e,H),A&&A.m(H,null),a(H,j);for(let d=0;d<J.length;d+=1)J[d]&&J[d].m(H,null);a(e,x),a(e,K),a(K,Q),a(Q,ae),a(K,fe),a(K,$),a($,he),a(K,de),Ne(ee,K,null),ne=!0,ve||(me=[P(y,"click",l[20]),P(L,"click",l[21]),P(_,"click",l[22]),P(I,"click",l[23]),P(O,"mouseover",l[25]),P(O,"mouseout",l[26]),P(Q,"click",l[18]),P($,"click",l[19]),P(e,"mousemove",l[10])],ve=!0)},p(k,r){const d={};r[0]&64&&(d.type=k[6]),r[0]&128&&(d.invisible=!k[7]),S.$set(d);const F={};if(r[0]&256&&(F.invisible=!k[8]),X.$set(F),(!ne||r[0]&16)&&z(O,"fakeHover",k[4]),(!ne||r[0]&13)&&z(O,"cardIsMoving",k[3]||k[0]!=-1&&k[2][k[0]].isMoving),k[2].length==0?A||(A=Pe(),A.c(),A.m(H,j)):A&&(A.d(1),A=null),r[0]&6150){te=k[2];let v;for(v=0;v<te.length;v+=1){const se=De(k,te,v);J[v]?(J[v].p(se,r),ue(J[v],1)):(J[v]=ze(se),J[v].c(),ue(J[v],1),J[v].m(H,null))}for(;v<J.length;v+=1)J[v].d(1);J.length=te.length}},i(k){if(!ne){ue(S.$$.fragment,k),ue(X.$$.fragment,k);for(let r=0;r<te.length;r+=1)ue(J[r]);ue(ee.$$.fragment,k),ne=!0}},o(k){Ie(S.$$.fragment,k),Ie(X.$$.fragment,k),Ie(ee.$$.fragment,k),ne=!1},d(k){k&&h(e),Te(S),Te(X),l[24](null),A&&A.d(),Re(J,k),Te(ee),ve=!1,_e(me)}}}function Ge(l){return l.getBoundingClientRect().left}function we(l){return l.getBoundingClientRect().top}function He(l){return l.getBoundingClientRect().bottom}function at(l){return l.getBoundingClientRect().width}function ie(l,e){let t=e[0];return e.forEach(n=>{Math.abs(l-n)<Math.abs(l-t)&&(t=n)}),e.indexOf(t)}function ft(l,e,t){let n={x:0,y:0},i=-1,u=[],s=[];s.forEach((r,d)=>{r.subscribe(F=>{t(2,s[d]=F,s)})});function o(r,d,F){var v=r[d];r.splice(d,1),r.splice(F,0,v),t(2,s=r)}function b(r,d,F){const v=(n.x-r)*(n.x-r),se=(n.y-d)*(n.y-d);return v+se<=F*F}function f(r){if(n={x:r.clientX,y:r.clientY},t(4,q=b(75+Ge(G),75+we(G),75)),i!=-1&&s[i].isMoving&&(T=ie(n.x,C),t(1,u[i].style.left=n.x+"px",u),t(1,u[i].style.top=n.y+"px",u)),E&&s[_[0]].cards[_[1]].moving){T=ie(n.x,C),t(2,s[_[0]].elements[_[1]].style.left=n.x+"px",s),t(2,s[_[0]].elements[_[1]].style.top=n.y+"px",s),m[0]=ie(n.x,C);const d=[];for(let F=0;F<s[m[0]].elements.length;F++)if(s[m[0]].elements[F]!=null){if(s[m[0]].elements[F].classList.contains("movingCard"))continue;d.push(we(s[m[0]].elements[F])-5),s[m[0]].elements.length-F==1&&d.push(He(s[m[0]].elements[F])+5)}d.sort((F,v)=>F-v),m[1]=ie(n.y,d)}}function y(){C=[];for(let r=0;r<s.length;r++)C.push(Ge(u[r]));C.sort((r,d)=>r-d)}let C=[],T=-1,L=-1;function U(r){if(!(i!=-1&&!s[r].isMoving||E)){if(!s[r].isMoving)t(2,s[r].isMoving=!0,s),t(0,i=r),L=r,y(),T=ie(n.x,C),t(1,u[r].style.left=n.x+"px",u),t(1,u[r].style.top=n.y+"px",u);else{if(q){le(r);return}t(2,s[r].isMoving=!1,s),o(s,L,T),r=T,t(0,i=-1),T=-1,L=-1}t(2,s)}}let E=!1,_=[-1,-1],m=[-1,-1];function w(r,d){if(s[r].cards[d].moving==E)if(s[r].cards[d].moving){if(s[r].cards[d].moving){if(q){S(r,d);return}t(2,s[r].cards[d].moving=!1,s),t(3,E=!1);const F=s[r].cards.splice(d,1);t(2,s),s[m[0]].cards.splice(m[1],0,...F),t(2,s),t(2,s),_=[-1,-1]}}else{I(),t(2,s[r].cards[d].moving=!0,s),y();for(let v=0;v<C.length;v++)C[v]+=at(u[v])/2;_=[r,d],t(3,E=!0),t(2,s[_[0]].elements[_[1]].style.left=n.x+"px",s),t(2,s[_[0]].elements[_[1]].style.top=n.y+"px",s),m[0]=ie(n.x,C);const F=[];for(let v=0;v<s[m[0]].elements.length;v++)s[m[0]].elements[v].classList.contains("movingCard")||(s[m[0]].elements[v]!=null&&F.push(we(s[m[0]].elements[v])),s[m[0]].elements.length-v==1&&F.push(He(s[m[0]].elements[v])+10));F.sort((v,se)=>v-se),m[1]=ie(n.y,F)}}qe(()=>{I()});function I(){for(let r=0;r<u.length;r++){if(!u[r]||!s[r])continue;const d=u[r].querySelectorAll(".element");t(2,s[r].elements=[...d],s)}}let q=!1,G=null;function S(r,d){s[r].cards.splice(d,1),I(),t(3,E=!1),_=[-1,-1],t(2,s)}function le(r){t(2,s[r].cards=[],s),o(s,r,s.length-1),s.pop(),t(0,i=-1),t(2,s),I()}let X="text",D=!1;function O(r){if(s.length==0){alert("You cannot create a card when there is no list to create it in. 🤓");return}t(6,X=r),t(7,D=!0)}let M=!1;function H(){t(8,M=!0)}function j(r){if(t(8,M=!1),r.title===""){alert("Please add a title to your list. 🤓");return}s.push(JSON.parse(JSON.stringify(r))),t(2,s)}function x(){t(8,M=!1),t(7,D=!1)}function K(r){if(t(7,D=!1),r.moving=!1,r.type=="image"){const d=new Image;d.src=JSON.parse(JSON.stringify(r.value)),d.onload=()=>{r.value=d.src,s[0].cards.unshift(JSON.parse(JSON.stringify(r))),t(2,s),I()},d.onerror=()=>{r.value="/icons/image-not-found.png",s[0].cards.unshift(JSON.parse(JSON.stringify(r))),t(2,s),I()}}else s[0].cards.unshift(JSON.parse(JSON.stringify(r))),t(2,s),I()}let Q=!1;function ae(){localStorage.setItem("LISTS",JSON.stringify(s))}function fe(){t(9,Q=!0),t(2,s=JSON.parse(localStorage.getItem("LISTS"))),setTimeout(()=>{t(9,Q=!1)},s.length*250)}const $=()=>{O("text")},he=()=>{O("image")},de=()=>{O("link")},ee=()=>{H()};function ne(r){Be[r?"unshift":"push"](()=>{G=r,t(5,G)})}const ve=r=>{t(4,q=!0)},me=()=>{t(4,q=!1)},A=r=>{U(r)},te=r=>{U(r)},J=(r,d)=>{w(r,d)};function k(r,d){Be[r?"unshift":"push"](()=>{u[d]=r,t(1,u)})}return[i,u,s,E,q,G,X,D,M,Q,f,U,w,O,H,j,x,K,ae,fe,$,he,de,ee,ne,ve,me,A,te,J,k]}class vt extends ge{constructor(e){super(),be(this,e,ft,ct,ye,{},null,[-1,-1])}}export{vt as default};
