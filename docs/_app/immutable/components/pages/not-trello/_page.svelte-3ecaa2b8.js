import{S as ge,i as be,s as ye,k as p,a as V,q as W,l as g,m as N,h,c as B,r as Y,n as c,E as z,b as H,F as a,G as P,B as re,P as me,R as j,w as Ce,x as Ee,D as ae,y as Ne,f as ce,t as Ie,z as Te,K as Re,o as qe,u as Me,T as We,U as Ye,Q as Be}from"../../../chunks/index-4ad5b0ac.js";import{f as Xe}from"../../../chunks/index-a2479f16.js";function Ke(l){let e,t,n;return{c(){e=p("input"),this.h()},l(i){e=g(i,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"placeholder","What to do..."),c(e,"class","svelte-y310dz")},m(i,u){H(i,e,u),j(e,l[2].value),t||(n=P(e,"input",l[10]),t=!0)},p(i,u){u&4&&e.value!==i[2].value&&j(e,i[2].value)},d(i){i&&h(e),t=!1,n()}}}function Qe(l){let e,t,n,i,u,s;return{c(){e=p("div"),t=p("input"),n=V(),i=p("input"),this.h()},l(o){e=g(o,"DIV",{id:!0,class:!0});var b=N(e);t=g(b,"INPUT",{type:!0,placeholder:!0,class:!0}),n=B(b),i=g(b,"INPUT",{type:!0,placeholder:!0,class:!0}),b.forEach(h),this.h()},h(){c(t,"type","text"),c(t,"placeholder","Link url goes here..."),c(t,"class","svelte-y310dz"),c(i,"type","text"),c(i,"placeholder","Link text goes here..."),c(i,"class","svelte-y310dz"),c(e,"id","hehehehaw"),c(e,"class","svelte-y310dz")},m(o,b){H(o,e,b),a(e,t),j(t,l[2].path),a(e,n),a(e,i),j(i,l[2].value),u||(s=[P(t,"input",l[8]),P(i,"input",l[9])],u=!0)},p(o,b){b&4&&t.value!==o[2].path&&j(t,o[2].path),b&4&&i.value!==o[2].value&&j(i,o[2].value)},d(o){o&&h(e),u=!1,me(s)}}}function Ze(l){let e,t,n;return{c(){e=p("input"),this.h()},l(i){e=g(i,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"placeholder","Paste image URL..."),c(e,"class","svelte-y310dz")},m(i,u){H(i,e,u),j(e,l[2].value),t||(n=P(e,"input",l[7]),t=!0)},p(i,u){u&4&&e.value!==i[2].value&&j(e,i[2].value)},d(i){i&&h(e),t=!1,n()}}}function je(l){let e,t,n,i,u,s,o,b,f,y,k,T,L,U;function C(w,I){if(w[0]=="image")return Ze;if(w[0]=="link")return Qe;if(w[0]=="text")return Ke}let v=C(l),m=v&&v(l);return{c(){e=p("div"),t=p("button"),n=V(),i=p("h1"),u=W("Create new card"),s=V(),o=p("form"),m&&m.c(),b=V(),f=p("button"),y=W("Create card"),k=V(),T=p("div"),this.h()},l(w){e=g(w,"DIV",{class:!0});var I=N(e);t=g(I,"BUTTON",{id:!0,class:!0}),N(t).forEach(h),n=B(I),i=g(I,"H1",{class:!0});var q=N(i);u=Y(q,"Create new card"),q.forEach(h),s=B(I),o=g(I,"FORM",{class:!0});var G=N(o);m&&m.l(G),G.forEach(h),b=B(I),f=g(I,"BUTTON",{id:!0,class:!0});var S=N(f);y=Y(S,"Create card"),S.forEach(h),I.forEach(h),k=B(w),T=g(w,"DIV",{class:!0}),N(T).forEach(h),this.h()},h(){c(t,"id","closeButton"),c(t,"class","svelte-y310dz"),c(i,"class","svelte-y310dz"),c(o,"class","svelte-y310dz"),c(f,"id","CreateButton"),c(f,"class","svelte-y310dz"),c(e,"class","window svelte-y310dz"),z(e,"invisible",l[1]),c(T,"class","screenShade svelte-y310dz"),z(T,"invisible",l[1])},m(w,I){H(w,e,I),a(e,t),a(e,n),a(e,i),a(i,u),a(e,s),a(e,o),m&&m.m(o,null),a(e,b),a(e,f),a(f,y),H(w,k,I),H(w,T,I),L||(U=[P(t,"click",l[4]),P(o,"submit",l[3]),P(f,"click",l[3])],L=!0)},p(w,[I]){v===(v=C(w))&&m?m.p(w,I):(m&&m.d(1),m=v&&v(w),m&&(m.c(),m.m(o,null))),I&2&&z(e,"invisible",w[1]),I&2&&z(T,"invisible",w[1])},i:re,o:re,d(w){w&&h(e),m&&m.d(),w&&h(k),w&&h(T),L=!1,me(U)}}}function xe(l,e,t){let{type:n}=e,{invisible:i=!0}=e,{createFunction:u=void 0}=e,{closeFunction:s=void 0}=e;const o={moving:!0,type:n,path:void 0,value:""};function b(){t(2,o.type=n,o),u(o),t(2,o.path="",o),t(2,o.value="",o)}function f(){t(2,o.type=n,o),s(),t(2,o.value="",o),t(2,o.path="",o)}function y(){o.value=this.value,t(2,o)}function k(){o.path=this.value,t(2,o)}function T(){o.value=this.value,t(2,o)}function L(){o.value=this.value,t(2,o)}return l.$$set=U=>{"type"in U&&t(0,n=U.type),"invisible"in U&&t(1,i=U.invisible),"createFunction"in U&&t(5,u=U.createFunction),"closeFunction"in U&&t(6,s=U.closeFunction)},[n,i,o,b,f,u,s,y,k,T,L]}class $e extends ge{constructor(e){super(),be(this,e,xe,je,ye,{type:0,invisible:1,createFunction:5,closeFunction:6})}}function et(l){let e,t,n,i,u,s,o,b,f,y,k,T,L,U;return{c(){e=p("div"),t=p("button"),n=V(),i=p("h1"),u=W("Create New List"),s=V(),o=p("input"),b=V(),f=p("button"),y=W("Create list"),k=V(),T=p("div"),this.h()},l(C){e=g(C,"DIV",{class:!0});var v=N(e);t=g(v,"BUTTON",{id:!0,class:!0}),N(t).forEach(h),n=B(v),i=g(v,"H1",{class:!0});var m=N(i);u=Y(m,"Create New List"),m.forEach(h),s=B(v),o=g(v,"INPUT",{type:!0,placeholder:!0,class:!0}),b=B(v),f=g(v,"BUTTON",{id:!0,class:!0});var w=N(f);y=Y(w,"Create list"),w.forEach(h),v.forEach(h),k=B(C),T=g(C,"DIV",{class:!0}),N(T).forEach(h),this.h()},h(){c(t,"id","closeButton"),c(t,"class","svelte-1nbe866"),c(i,"class","svelte-1nbe866"),c(o,"type","text"),c(o,"placeholder","Title goes here..."),c(o,"class","svelte-1nbe866"),c(f,"id","CreateButton"),c(f,"class","svelte-1nbe866"),c(e,"class","window svelte-1nbe866"),z(e,"invisible",l[0]),c(T,"class","screenShade svelte-1nbe866"),z(T,"invisible",l[0])},m(C,v){H(C,e,v),a(e,t),a(e,n),a(e,i),a(i,u),a(e,s),a(e,o),j(o,l[1]),a(e,b),a(e,f),a(f,y),H(C,k,v),H(C,T,v),L||(U=[P(t,"click",l[3]),P(o,"input",l[6]),P(o,"submit",l[2]),P(f,"click",l[2])],L=!0)},p(C,[v]){v&2&&o.value!==C[1]&&j(o,C[1]),v&1&&z(e,"invisible",C[0]),v&1&&z(T,"invisible",C[0])},i:re,o:re,d(C){C&&h(e),C&&h(k),C&&h(T),L=!1,me(U)}}}function tt(l,e,t){let{invisible:n=!0}=e,{createFunction:i=void 0}=e,{closeFunction:u=void 0}=e,s="";const o={isMoving:!1,title:s,cards:[],elements:[]};function b(){o.title=JSON.parse(JSON.stringify(s)),i(o),t(1,s="")}function f(){u(),t(1,s="")}function y(){s=this.value,t(1,s)}return l.$$set=k=>{"invisible"in k&&t(0,n=k.invisible),"createFunction"in k&&t(4,i=k.createFunction),"closeFunction"in k&&t(5,u=k.closeFunction)},[n,s,b,f,i,u,y]}class st extends ge{constructor(e){super(),be(this,e,tt,et,ye,{invisible:0,createFunction:4,closeFunction:5})}}function lt(l){let e,t,n;return{c(){e=p("div"),t=V(),n=p("div"),this.h()},l(i){e=g(i,"DIV",{id:!0,class:!0});var u=N(e);u.forEach(h),t=B(i),n=g(i,"DIV",{id:!0,class:!0});var s=N(n);s.forEach(h),this.h()},h(){c(e,"id","flashbang"),c(e,"class","svelte-1wgtpb1"),z(e,"invis",l[0]),c(n,"id","heisenberg"),c(n,"class","svelte-1wgtpb1"),z(n,"invis",l[0])},m(i,u){H(i,e,u),H(i,t,u),H(i,n,u)},p(i,[u]){u&1&&z(e,"invis",i[0]),u&1&&z(n,"invis",i[0])},i:re,o:re,d(i){i&&h(e),i&&h(t),i&&h(n)}}}function nt(l,e,t){let{invis:n=!0}=e;return l.$$set=i=>{"invis"in i&&t(0,n=i.invis)},[n]}class it extends ge{constructor(e){super(),be(this,e,nt,lt,ye,{invis:0})}}function De(l,e,t){const n=l.slice();return n[43]=e[t],n[44]=e,n[45]=t,n}function Ue(l,e,t){const n=l.slice();return n[46]=e[t],n[48]=t,n}function Pe(l){let e,t,n,i,u,s;return{c(){e=p("div"),t=p("img"),i=V(),u=p("h2"),s=W("There is nothing..."),this.h()},l(o){e=g(o,"DIV",{id:!0,class:!0});var b=N(e);t=g(b,"IMG",{src:!0,alt:!0,class:!0}),i=B(b),u=g(b,"H2",{class:!0});var f=N(u);s=Y(f,"There is nothing..."),f.forEach(h),b.forEach(h),this.h()},h(){ae(t.src,n="/icons/empty.png")||c(t,"src",n),c(t,"alt","yup :)"),c(t,"class","svelte-dbeuh9"),c(u,"class","svelte-dbeuh9"),c(e,"id","empty-board"),c(e,"class","svelte-dbeuh9")},m(o,b){H(o,e,b),a(e,t),a(e,i),a(e,u),a(u,s)},d(o){o&&h(e)}}}function rt(l){let e,t;return{c(){e=p("img"),this.h()},l(n){e=g(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ae(e.src,t=l[46].value)||c(e,"src",t),c(e,"alt","crazy pic"),c(e,"class","svelte-dbeuh9")},m(n,i){H(n,e,i)},p(n,i){i[0]&4&&!ae(e.src,t=n[46].value)&&c(e,"src",t)},d(n){n&&h(e)}}}function ot(l){let e,t=l[46].value+"",n,i;return{c(){e=p("a"),n=W(t),this.h()},l(u){e=g(u,"A",{href:!0,class:!0});var s=N(e);n=Y(s,t),s.forEach(h),this.h()},h(){c(e,"href",i=l[46].path),c(e,"class","svelte-dbeuh9")},m(u,s){H(u,e,s),a(e,n)},p(u,s){s[0]&4&&t!==(t=u[46].value+"")&&Me(n,t),s[0]&4&&i!==(i=u[46].path)&&c(e,"href",i)},d(u){u&&h(e)}}}function ut(l){let e,t=l[46].value+"",n;return{c(){e=p("p"),n=W(t),this.h()},l(i){e=g(i,"P",{class:!0});var u=N(e);n=Y(u,t),u.forEach(h),this.h()},h(){c(e,"class","svelte-dbeuh9")},m(i,u){H(i,e,u),a(e,n)},p(i,u){u[0]&4&&t!==(t=i[46].value+"")&&Me(n,t)},d(i){i&&h(e)}}}function Je(l){let e,t,n,i;function u(f,y){if(f[46].type=="text")return ut;if(f[46].type=="link")return ot;if(f[46].type=="image")return rt}let s=u(l),o=s&&s(l);function b(){return l[26](l[45],l[48])}return{c(){e=p("div"),o&&o.c(),t=V(),this.h()},l(f){e=g(f,"DIV",{class:!0});var y=N(e);o&&o.l(y),t=B(y),y.forEach(h),this.h()},h(){c(e,"class","element svelte-dbeuh9"),z(e,"movingCard",l[46].moving)},m(f,y){H(f,e,y),o&&o.m(e,null),a(e,t),n||(i=P(e,"click",b),n=!0)},p(f,y){l=f,s===(s=u(l))&&o?o.p(l,y):(o&&o.d(1),o=s&&s(l),o&&(o.c(),o.m(e,t))),y[0]&4&&z(e,"movingCard",l[46].moving)},d(f){f&&h(e),o&&o.d(),n=!1,i()}}}function ze(l){let e,t,n,i,u,s,o=l[43].title+"",b,f,y,k,T,L,U,C=l[45],v,m,w;function I(){return l[24](l[45])}function q(){return l[25](l[45])}let G=l[43].cards,S=[];for(let D=0;D<G.length;D+=1)S[D]=Je(Ue(l,G,D));const le=()=>l[27](e,C),X=()=>l[27](null,C);return{c(){e=p("div"),t=p("div"),n=p("img"),u=V(),s=p("h1"),b=W(o),f=V(),y=p("img"),T=V(),L=p("div");for(let D=0;D<S.length;D+=1)S[D].c();U=V(),this.h()},l(D){e=g(D,"DIV",{class:!0});var O=N(e);t=g(O,"DIV",{class:!0});var M=N(t);n=g(M,"IMG",{class:!0,src:!0,alt:!0}),u=B(M),s=g(M,"H1",{class:!0});var K=N(s);b=Y(K,o),K.forEach(h),f=B(M),y=g(M,"IMG",{class:!0,id:!0,src:!0,alt:!0}),M.forEach(h),T=B(O),L=g(O,"DIV",{class:!0});var R=N(L);for(let x=0;x<S.length;x+=1)S[x].l(R);R.forEach(h),U=B(O),O.forEach(h),this.h()},h(){c(n,"class","icon svelte-dbeuh9"),ae(n.src,i="/icons/moveicon.png")||c(n,"src",i),c(n,"alt","move"),c(s,"class","svelte-dbeuh9"),c(y,"class","icon svelte-dbeuh9"),c(y,"id","deleteButton"),ae(y.src,k="/icons/settings.png")||c(y,"src",k),c(y,"alt","delete"),c(t,"class","topOfList svelte-dbeuh9"),c(L,"class","list svelte-dbeuh9"),c(e,"class","listParent svelte-dbeuh9"),z(e,"moving",l[43].isMoving)},m(D,O){H(D,e,O),a(e,t),a(t,n),a(t,u),a(t,s),a(s,b),a(t,f),a(t,y),a(e,T),a(e,L);for(let M=0;M<S.length;M+=1)S[M]&&S[M].m(L,null);a(e,U),le(),m||(w=[P(n,"click",I),P(n,"keypress",q)],m=!0)},p(D,O){if(l=D,O[0]&4&&o!==(o=l[43].title+"")&&Me(b,o),O[0]&4100){G=l[43].cards;let M;for(M=0;M<G.length;M+=1){const K=Ue(l,G,M);S[M]?S[M].p(K,O):(S[M]=Je(K),S[M].c(),S[M].m(L,null))}for(;M<S.length;M+=1)S[M].d(1);S.length=G.length}C!==l[45]&&(X(),C=l[45],le()),O[0]&4&&z(e,"moving",l[43].isMoving)},i(D){v||We(()=>{v=Ye(e,Xe,{y:-250,duration:750,delay:l[9]?250*l[45]:0}),v.start()})},o:re,d(D){D&&h(e),Re(S,D),X(),m=!1,me(w)}}}function ct(l){let e,t,n,i,u,s,o,b,f,y,k,T,L,U,C,v,m,w,I,q,G,S,le,X,D,O,M,K,R,x,Q,Z,fe,he,$,de,ve,ee,ne,_e,pe;S=new $e({props:{type:l[6],invisible:!l[7],createFunction:l[17],closeFunction:l[16]}}),X=new st({props:{invisible:!l[8],createFunction:l[15],closeFunction:l[16]}});let A=l[2].length==0&&Pe(),te=l[2],J=[];for(let E=0;E<te.length;E+=1)J[E]=ze(De(l,te,E));return ee=new it({}),{c(){e=p("main"),t=p("div"),n=p("img"),u=V(),s=p("p"),o=W("Not Trello"),b=V(),f=p("div"),y=p("button"),k=W("Create text card"),T=V(),L=p("button"),U=W("Create image card"),C=V(),v=p("button"),m=W("Create link card"),w=V(),I=p("button"),q=W("Create new list"),G=V(),Ce(S.$$.fragment),le=V(),Ce(X.$$.fragment),D=V(),O=p("div"),A&&A.c(),M=V();for(let E=0;E<J.length;E+=1)J[E].c();K=V(),R=p("div"),x=V(),Q=p("div"),Z=p("button"),fe=W("Save"),he=V(),$=p("button"),de=W("Load"),ve=V(),Ce(ee.$$.fragment),this.h()},l(E){e=g(E,"MAIN",{class:!0});var r=N(e);t=g(r,"DIV",{class:!0});var d=N(t);n=g(d,"IMG",{src:!0,alt:!0,class:!0}),u=B(d),s=g(d,"P",{class:!0});var F=N(s);o=Y(F,"Not Trello"),F.forEach(h),d.forEach(h),b=B(r),f=g(r,"DIV",{class:!0});var _=N(f);y=g(_,"BUTTON",{class:!0});var se=N(y);k=Y(se,"Create text card"),se.forEach(h),T=B(_),L=g(_,"BUTTON",{class:!0});var Se=N(L);U=Y(Se,"Create image card"),Se.forEach(h),C=B(_),v=g(_,"BUTTON",{class:!0});var Oe=N(v);m=Y(Oe,"Create link card"),Oe.forEach(h),w=B(_),I=g(_,"BUTTON",{class:!0});var Le=N(I);q=Y(Le,"Create new list"),Le.forEach(h),G=B(_),Ee(S.$$.fragment,_),le=B(_),Ee(X.$$.fragment,_),_.forEach(h),D=B(r),O=g(r,"DIV",{class:!0});var oe=N(O);A&&A.l(oe),M=B(oe);for(let ke=0;ke<J.length;ke+=1)J[ke].l(oe);K=B(oe),R=g(oe,"DIV",{id:!0,class:!0});var Ae=N(R);Ae.forEach(h),oe.forEach(h),x=B(r),Q=g(r,"DIV",{class:!0});var ue=N(Q);Z=g(ue,"BUTTON",{class:!0});var Fe=N(Z);fe=Y(Fe,"Save"),Fe.forEach(h),he=B(ue),$=g(ue,"BUTTON",{class:!0});var Ve=N($);de=Y(Ve,"Load"),Ve.forEach(h),ve=B(ue),Ee(ee.$$.fragment,ue),ue.forEach(h),r.forEach(h),this.h()},h(){ae(n.src,i="/logo.png")||c(n,"src",i),c(n,"alt","logo"),c(n,"class","svelte-dbeuh9"),c(s,"class","svelte-dbeuh9"),c(t,"class","logo svelte-dbeuh9"),c(y,"class","createNew svelte-dbeuh9"),c(L,"class","createNew svelte-dbeuh9"),c(v,"class","createNew svelte-dbeuh9"),c(I,"class","createNew svelte-dbeuh9"),c(f,"class","section new svelte-dbeuh9"),c(R,"id","cardDelete"),c(R,"class","svelte-dbeuh9"),z(R,"fakeHover",l[4]),z(R,"cardIsMoving",l[3]||l[0]!=-1&&l[2][l[0]].isMoving),c(O,"class","section main svelte-dbeuh9"),c(Z,"class","svelte-dbeuh9"),c($,"class","svelte-dbeuh9"),c(Q,"class","section save-load-menu svelte-dbeuh9"),c(e,"class","bg svelte-dbeuh9")},m(E,r){H(E,e,r),a(e,t),a(t,n),a(t,u),a(t,s),a(s,o),a(e,b),a(e,f),a(f,y),a(y,k),a(f,T),a(f,L),a(L,U),a(f,C),a(f,v),a(v,m),a(f,w),a(f,I),a(I,q),a(f,G),Ne(S,f,null),a(f,le),Ne(X,f,null),a(e,D),a(e,O),A&&A.m(O,null),a(O,M);for(let d=0;d<J.length;d+=1)J[d]&&J[d].m(O,null);a(O,K),a(O,R),l[28](R),a(e,x),a(e,Q),a(Q,Z),a(Z,fe),a(Q,he),a(Q,$),a($,de),a(Q,ve),Ne(ee,Q,null),ne=!0,_e||(pe=[P(y,"click",l[20]),P(L,"click",l[21]),P(v,"click",l[22]),P(I,"click",l[23]),P(R,"mouseover",l[29]),P(R,"mouseout",l[30]),P(Z,"click",l[18]),P($,"click",l[19]),P(e,"mousemove",l[10])],_e=!0)},p(E,r){const d={};r[0]&64&&(d.type=E[6]),r[0]&128&&(d.invisible=!E[7]),S.$set(d);const F={};if(r[0]&256&&(F.invisible=!E[8]),X.$set(F),E[2].length==0?A||(A=Pe(),A.c(),A.m(O,M)):A&&(A.d(1),A=null),r[0]&6150){te=E[2];let _;for(_=0;_<te.length;_+=1){const se=De(E,te,_);J[_]?(J[_].p(se,r),ce(J[_],1)):(J[_]=ze(se),J[_].c(),ce(J[_],1),J[_].m(O,K))}for(;_<J.length;_+=1)J[_].d(1);J.length=te.length}(!ne||r[0]&16)&&z(R,"fakeHover",E[4]),(!ne||r[0]&13)&&z(R,"cardIsMoving",E[3]||E[0]!=-1&&E[2][E[0]].isMoving)},i(E){if(!ne){ce(S.$$.fragment,E),ce(X.$$.fragment,E);for(let r=0;r<te.length;r+=1)ce(J[r]);ce(ee.$$.fragment,E),ne=!0}},o(E){Ie(S.$$.fragment,E),Ie(X.$$.fragment,E),Ie(ee.$$.fragment,E),ne=!1},d(E){E&&h(e),Te(S),Te(X),A&&A.d(),Re(J,E),l[28](null),Te(ee),_e=!1,me(pe)}}}function Ge(l){return l.getBoundingClientRect().left}function we(l){return l.getBoundingClientRect().top}function He(l){return l.getBoundingClientRect().bottom}function at(l){return l.getBoundingClientRect().width}function ie(l,e){let t=e[0];return e.forEach(n=>{Math.abs(l-n)<Math.abs(l-t)&&(t=n)}),e.indexOf(t)}function ft(l,e,t){let n={x:0,y:0},i=-1,u=[],s=[];s.forEach((r,d)=>{r.subscribe(F=>{t(2,s[d]=F,s)})});function o(r,d,F){var _=r[d];r.splice(d,1),r.splice(F,0,_),t(2,s=r)}function b(r,d,F){const _=(n.x-r)*(n.x-r),se=(n.y-d)*(n.y-d);return _+se<=F*F}function f(r){if(n={x:r.clientX,y:r.clientY},t(4,q=b(75+Ge(G),75+we(G),75)),i!=-1&&s[i].isMoving&&(T=ie(n.x,k),t(1,u[i].style.left=n.x+"px",u),t(1,u[i].style.top=n.y+"px",u)),C&&s[v[0]].cards[v[1]].moving){T=ie(n.x,k),t(2,s[v[0]].elements[v[1]].style.left=n.x+"px",s),t(2,s[v[0]].elements[v[1]].style.top=n.y+"px",s),m[0]=ie(n.x,k);const d=[];for(let F=0;F<s[m[0]].elements.length;F++)if(s[m[0]].elements[F]!=null){if(s[m[0]].elements[F].classList.contains("movingCard"))continue;d.push(we(s[m[0]].elements[F])-5),s[m[0]].elements.length-F==1&&d.push(He(s[m[0]].elements[F])+5)}d.sort((F,_)=>F-_),m[1]=ie(n.y,d)}}function y(){k=[];for(let r=0;r<s.length;r++)k.push(Ge(u[r]));k.sort((r,d)=>r-d)}let k=[],T=-1,L=-1;function U(r){if(!(i!=-1&&!s[r].isMoving||C)){if(!s[r].isMoving)t(2,s[r].isMoving=!0,s),t(0,i=r),L=r,y(),T=ie(n.x,k),t(1,u[r].style.left=n.x+"px",u),t(1,u[r].style.top=n.y+"px",u);else{if(q){le(r);return}t(2,s[r].isMoving=!1,s),o(s,L,T),r=T,t(0,i=-1),T=-1,L=-1}t(2,s)}}let C=!1,v=[-1,-1],m=[-1,-1];function w(r,d){if(s[r].cards[d].moving==C)if(s[r].cards[d].moving){if(s[r].cards[d].moving){if(q){S(r,d);return}t(2,s[r].cards[d].moving=!1,s),t(3,C=!1);const F=s[r].cards.splice(d,1);t(2,s),s[m[0]].cards.splice(m[1],0,...F),t(2,s),t(2,s),v=[-1,-1]}}else{I(),t(2,s[r].cards[d].moving=!0,s),y();for(let _=0;_<k.length;_++)k[_]+=at(u[_])/2;v=[r,d],t(3,C=!0),t(2,s[v[0]].elements[v[1]].style.left=n.x+"px",s),t(2,s[v[0]].elements[v[1]].style.top=n.y+"px",s),m[0]=ie(n.x,k);const F=[];for(let _=0;_<s[m[0]].elements.length;_++)s[m[0]].elements[_].classList.contains("movingCard")||(s[m[0]].elements[_]!=null&&F.push(we(s[m[0]].elements[_])),s[m[0]].elements.length-_==1&&F.push(He(s[m[0]].elements[_])+10));F.sort((_,se)=>_-se),m[1]=ie(n.y,F)}}qe(()=>{I()});function I(){for(let r=0;r<u.length;r++){if(!u[r]||!s[r])continue;const d=u[r].querySelectorAll(".element");t(2,s[r].elements=[...d],s)}}let q=!1,G=null;function S(r,d){s[r].cards.splice(d,1),I(),t(3,C=!1),v=[-1,-1],t(2,s)}function le(r){t(2,s[r].cards=[],s),o(s,r,s.length-1),s.pop(),t(0,i=-1),t(2,s),I()}let X="text",D=!1;function O(r){if(s.length==0){alert("You cannot create a card when there is no list to create it in. 🤓");return}t(6,X=r),t(7,D=!0)}let M=!1;function K(){t(8,M=!0)}function R(r){if(t(8,M=!1),r.title===""){alert("Please add a title to your list. 🤓");return}s.push(JSON.parse(JSON.stringify(r))),t(2,s)}function x(){t(8,M=!1),t(7,D=!1)}function Q(r){if(t(7,D=!1),r.moving=!1,r.type=="image"){const d=new Image;d.src=JSON.parse(JSON.stringify(r.value)),d.onload=()=>{r.value=d.src,s[0].cards.unshift(JSON.parse(JSON.stringify(r))),t(2,s),I()},d.onerror=()=>{r.value="/icons/image-not-found.png",s[0].cards.unshift(JSON.parse(JSON.stringify(r))),t(2,s),I()}}else s[0].cards.unshift(JSON.parse(JSON.stringify(r))),t(2,s),I()}let Z=!1;function fe(){localStorage.setItem("LISTS",JSON.stringify(s))}function he(){t(9,Z=!0),t(2,s=JSON.parse(localStorage.getItem("LISTS"))),setTimeout(()=>{t(9,Z=!1)},s.length*250)}const $=()=>{O("text")},de=()=>{O("image")},ve=()=>{O("link")},ee=()=>{K()},ne=r=>{U(r)},_e=r=>{U(r)},pe=(r,d)=>{w(r,d)};function A(r,d){Be[r?"unshift":"push"](()=>{u[d]=r,t(1,u)})}function te(r){Be[r?"unshift":"push"](()=>{G=r,t(5,G)})}return[i,u,s,C,q,G,X,D,M,Z,f,U,w,O,K,R,x,Q,fe,he,$,de,ve,ee,ne,_e,pe,A,te,r=>{t(4,q=!0)},()=>{t(4,q=!1)}]}class vt extends ge{constructor(e){super(),be(this,e,ft,ct,ye,{},null,[-1,-1])}}export{vt as default};
