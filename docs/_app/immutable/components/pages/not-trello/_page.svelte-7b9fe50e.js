import{S as be,i as ke,s as Ce,k as E,a as L,q as j,l as w,m as P,h as v,c as U,r as x,n as u,E as K,b as Q,F as f,G as S,B as de,P as ie,R as $,w as we,x as Me,D as se,y as Ie,f as Ne,t as Te,z as De,K as Ee,u as fe,Q as ue}from"../../../chunks/index-161b2921.js";import{w as ae}from"../../../chunks/index-cf63cc36.js";function Ve(l){let e,t,n;return{c(){e=E("input"),this.h()},l(o){e=w(o,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){u(e,"type","text"),u(e,"placeholder","What to do..."),u(e,"class","svelte-79p1ao")},m(o,i){Q(o,e,i),$(e,l[2].value),t||(n=S(e,"input",l[10]),t=!0)},p(o,i){i&4&&e.value!==o[2].value&&$(e,o[2].value)},d(o){o&&v(e),t=!1,n()}}}function Be(l){let e,t,n,o,i,s;return{c(){e=E("div"),t=E("input"),n=L(),o=E("input"),this.h()},l(a){e=w(a,"DIV",{id:!0,class:!0});var m=P(e);t=w(m,"INPUT",{type:!0,placeholder:!0,class:!0}),n=U(m),o=w(m,"INPUT",{type:!0,placeholder:!0,class:!0}),m.forEach(v),this.h()},h(){u(t,"type","text"),u(t,"placeholder","Link url goes here..."),u(t,"class","svelte-79p1ao"),u(o,"type","text"),u(o,"placeholder","Link text goes here..."),u(o,"class","svelte-79p1ao"),u(e,"id","hehehehaw"),u(e,"class","svelte-79p1ao")},m(a,m){Q(a,e,m),f(e,t),$(t,l[2].path),f(e,n),f(e,o),$(o,l[2].value),i||(s=[S(t,"input",l[8]),S(o,"input",l[9])],i=!0)},p(a,m){m&4&&t.value!==a[2].path&&$(t,a[2].path),m&4&&o.value!==a[2].value&&$(o,a[2].value)},d(a){a&&v(e),i=!1,ie(s)}}}function Pe(l){let e,t,n;return{c(){e=E("input"),this.h()},l(o){e=w(o,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){u(e,"type","text"),u(e,"placeholder","Paste image URL..."),u(e,"class","svelte-79p1ao")},m(o,i){Q(o,e,i),$(e,l[2].value),t||(n=S(e,"input",l[7]),t=!0)},p(o,i){i&4&&e.value!==o[2].value&&$(e,o[2].value)},d(o){o&&v(e),t=!1,n()}}}function Ge(l){let e,t,n,o,i,s,a,m,k,h,C,B,D;function p(c,I){if(c[0]=="image")return Pe;if(c[0]=="link")return Be;if(c[0]=="text")return Ve}let y=p(l),d=y&&y(l);return{c(){e=E("div"),t=E("button"),n=L(),o=E("h1"),i=j("Create new card"),s=L(),d&&d.c(),a=L(),m=E("button"),k=j("Create card"),h=L(),C=E("div"),this.h()},l(c){e=w(c,"DIV",{class:!0});var I=P(e);t=w(I,"BUTTON",{id:!0,class:!0}),P(t).forEach(v),n=U(I),o=w(I,"H1",{});var A=P(o);i=x(A,"Create new card"),A.forEach(v),s=U(I),d&&d.l(I),a=U(I),m=w(I,"BUTTON",{id:!0,class:!0});var W=P(m);k=x(W,"Create card"),W.forEach(v),I.forEach(v),h=U(c),C=w(c,"DIV",{class:!0}),P(C).forEach(v),this.h()},h(){u(t,"id","closeButton"),u(t,"class","svelte-79p1ao"),u(m,"id","CreateButton"),u(m,"class","svelte-79p1ao"),u(e,"class","window svelte-79p1ao"),K(e,"invisible",l[1]),u(C,"class","screenShade svelte-79p1ao"),K(C,"invisible",l[1])},m(c,I){Q(c,e,I),f(e,t),f(e,n),f(e,o),f(o,i),f(e,s),d&&d.m(e,null),f(e,a),f(e,m),f(m,k),Q(c,h,I),Q(c,C,I),B||(D=[S(t,"click",l[4]),S(m,"click",l[3])],B=!0)},p(c,[I]){y===(y=p(c))&&d?d.p(c,I):(d&&d.d(1),d=y&&y(c),d&&(d.c(),d.m(e,a))),I&2&&K(e,"invisible",c[1]),I&2&&K(C,"invisible",c[1])},i:de,o:de,d(c){c&&v(e),d&&d.d(),c&&v(h),c&&v(C),B=!1,ie(D)}}}function Fe(l,e,t){let{type:n}=e,{invisible:o=!0}=e,{createFunction:i=void 0}=e,{closeFunction:s=void 0}=e;const a={moving:!0,type:n,path:void 0,value:""};function m(){t(2,a.type=n,a),i(a),t(2,a.path="",a),t(2,a.value="",a)}function k(){t(2,a.type=n,a),s(),t(2,a.value="",a),t(2,a.path="",a)}function h(){a.value=this.value,t(2,a)}function C(){a.path=this.value,t(2,a)}function B(){a.value=this.value,t(2,a)}function D(){a.value=this.value,t(2,a)}return l.$$set=p=>{"type"in p&&t(0,n=p.type),"invisible"in p&&t(1,o=p.invisible),"createFunction"in p&&t(5,i=p.createFunction),"closeFunction"in p&&t(6,s=p.closeFunction)},[n,o,a,m,k,i,s,h,C,B,D]}class He extends be{constructor(e){super(),ke(this,e,Fe,Ge,Ce,{type:0,invisible:1,createFunction:5,closeFunction:6})}}function _e(l,e,t){const n=l.slice();return n[38]=e[t],n[39]=e,n[40]=t,n}function pe(l,e,t){const n=l.slice();return n[41]=e[t],n[42]=e,n[43]=t,n}function Le(l){let e,t;return{c(){e=E("img"),this.h()},l(n){e=w(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,t=l[41].value)||u(e,"src",t),u(e,"alt","No errors?"),u(e,"class","svelte-uylocy")},m(n,o){Q(n,e,o)},p(n,o){o[0]&2&&!se(e.src,t=n[41].value)&&u(e,"src",t)},d(n){n&&v(e)}}}function Ue(l){let e,t=l[41].value+"",n,o;return{c(){e=E("a"),n=j(t),this.h()},l(i){e=w(i,"A",{href:!0,class:!0});var s=P(e);n=x(s,t),s.forEach(v),this.h()},h(){u(e,"href",o=l[41].path),u(e,"class","svelte-uylocy")},m(i,s){Q(i,e,s),f(e,n)},p(i,s){s[0]&2&&t!==(t=i[41].value+"")&&fe(n,t),s[0]&2&&o!==(o=i[41].path)&&u(e,"href",o)},d(i){i&&v(e)}}}function Ae(l){let e,t=l[41].value+"",n;return{c(){e=E("p"),n=j(t),this.h()},l(o){e=w(o,"P",{class:!0});var i=P(e);n=x(i,t),i.forEach(v),this.h()},h(){u(e,"class","svelte-uylocy")},m(o,i){Q(o,e,i),f(e,n)},p(o,i){i[0]&2&&t!==(t=o[41].value+"")&&fe(n,t)},d(o){o&&v(e)}}}function ve(l){let e,t,n=l[43],o=l[39],i=l[40],s,a;function m(p,y){if(p[41].type=="text")return Ae;if(p[41].type=="link")return Ue;if(p[41].type=="image")return Le}let k=m(l),h=k&&k(l);const C=()=>l[20](e,n,o,i),B=()=>l[20](null,n,o,i);function D(){return l[21](l[40],l[43])}return{c(){e=E("div"),h&&h.c(),t=L(),this.h()},l(p){e=w(p,"DIV",{class:!0});var y=P(e);h&&h.l(y),t=U(y),y.forEach(v),this.h()},h(){u(e,"class","element svelte-uylocy"),K(e,"movingCard",l[41].moving)},m(p,y){Q(p,e,y),h&&h.m(e,null),f(e,t),C(),s||(a=S(e,"click",D),s=!0)},p(p,y){l=p,k===(k=m(l))&&h?h.p(l,y):(h&&h.d(1),h=k&&k(l),h&&(h.c(),h.m(e,t))),(n!==l[43]||o!==l[39]||i!==l[40])&&(B(),n=l[43],o=l[39],i=l[40],C()),y[0]&2&&K(e,"movingCard",l[41].moving)},d(p){p&&v(e),h&&h.d(),B(),s=!1,a()}}}function me(l){let e,t,n,o,i,s,a=l[38].title+"",m,k,h,C,B,D,p,y=l[40],d,c;function I(){return l[16](l[40])}function A(){return l[17](l[40])}function W(){return l[18](l[40])}function O(){return l[19](l[40])}let J=l[38].cards,g=[];for(let V=0;V<J.length;V+=1)g[V]=ve(pe(l,J,V));const Z=()=>l[22](e,y),X=()=>l[22](null,y);return{c(){e=E("div"),t=E("div"),n=E("img"),i=L(),s=E("h1"),m=j(a),k=L(),h=E("img"),B=L(),D=E("div");for(let V=0;V<g.length;V+=1)g[V].c();p=L(),this.h()},l(V){e=w(V,"DIV",{class:!0});var H=P(e);t=w(H,"DIV",{class:!0});var M=P(t);n=w(M,"IMG",{class:!0,src:!0,alt:!0}),i=U(M),s=w(M,"H1",{class:!0});var Y=P(s);m=x(Y,a),Y.forEach(v),k=U(M),h=w(M,"IMG",{class:!0,id:!0,src:!0,alt:!0}),M.forEach(v),B=U(H),D=w(H,"DIV",{class:!0});var G=P(D);for(let b=0;b<g.length;b+=1)g[b].l(G);G.forEach(v),p=U(H),H.forEach(v),this.h()},h(){u(n,"class","icon svelte-uylocy"),se(n.src,o="/icons/moveicon.png")||u(n,"src",o),u(n,"alt","move"),u(s,"class","svelte-uylocy"),u(h,"class","icon svelte-uylocy"),u(h,"id","deleteButton"),se(h.src,C="/icons/delete.png")||u(h,"src",C),u(h,"alt","delete"),u(t,"class","topOfList svelte-uylocy"),u(D,"class","list svelte-uylocy"),u(e,"class","listParent svelte-uylocy"),K(e,"moving",l[38].isMoving)},m(V,H){Q(V,e,H),f(e,t),f(t,n),f(t,i),f(t,s),f(s,m),f(t,k),f(t,h),f(e,B),f(e,D);for(let M=0;M<g.length;M+=1)g[M]&&g[M].m(D,null);f(e,p),Z(),d||(c=[S(n,"click",I),S(n,"keypress",A),S(h,"click",W),S(h,"keypress",O)],d=!0)},p(V,H){if(l=V,H[0]&2&&a!==(a=l[38].title+"")&&fe(m,a),H[0]&514){J=l[38].cards;let M;for(M=0;M<J.length;M+=1){const Y=pe(l,J,M);g[M]?g[M].p(Y,H):(g[M]=ve(Y),g[M].c(),g[M].m(D,null))}for(;M<g.length;M+=1)g[M].d(1);g.length=J.length}y!==l[40]&&(X(),y=l[40],Z()),H[0]&2&&K(e,"moving",l[38].isMoving)},d(V){V&&v(e),Ee(g,V),X(),d=!1,ie(c)}}}function Oe(l){let e,t,n,o,i,s,a,m,k,h,C,B,D,p,y,d,c,I,A,W,O,J,g,Z,X,V,H,M;A=new He({props:{type:l[5],invisible:!l[6],createFunction:l[12],closeFunction:l[11]}});let Y=l[1],G=[];for(let b=0;b<Y.length;b+=1)G[b]=me(_e(l,Y,b));return{c(){e=E("main"),t=E("div"),n=E("img"),i=L(),s=E("p"),a=j("Not Trello"),m=L(),k=E("div"),h=E("button"),C=j("Create text card"),B=L(),D=E("button"),p=j("Create image card"),y=L(),d=E("button"),c=j("Create link card"),I=L(),we(A.$$.fragment),W=L(),O=E("div");for(let b=0;b<G.length;b+=1)G[b].c();J=L(),g=E("div"),Z=L(),X=E("div"),this.h()},l(b){e=w(b,"MAIN",{class:!0});var F=P(e);t=w(F,"DIV",{class:!0});var q=P(t);n=w(q,"IMG",{src:!0,alt:!0,class:!0}),i=U(q),s=w(q,"P",{class:!0});var R=P(s);a=x(R,"Not Trello"),R.forEach(v),q.forEach(v),m=U(F),k=w(F,"DIV",{class:!0});var z=P(k);h=w(z,"BUTTON",{class:!0});var ne=P(h);C=x(ne,"Create text card"),ne.forEach(v),B=U(z),D=w(z,"BUTTON",{class:!0});var oe=P(D);p=x(oe,"Create image card"),oe.forEach(v),y=U(z),d=w(z,"BUTTON",{class:!0});var re=P(d);c=x(re,"Create link card"),re.forEach(v),I=U(z),Me(A.$$.fragment,z),z.forEach(v),W=U(F),O=w(F,"DIV",{class:!0});var te=P(O);for(let _=0;_<G.length;_+=1)G[_].l(te);J=U(te),g=w(te,"DIV",{id:!0,class:!0});var he=P(g);he.forEach(v),te.forEach(v),Z=U(F),X=w(F,"DIV",{class:!0});var r=P(X);r.forEach(v),F.forEach(v),this.h()},h(){se(n.src,o="/logo.png")||u(n,"src",o),u(n,"alt","logo"),u(n,"class","svelte-uylocy"),u(s,"class","svelte-uylocy"),u(t,"class","logo svelte-uylocy"),u(h,"class","createNew svelte-uylocy"),u(D,"class","createNew svelte-uylocy"),u(d,"class","createNew svelte-uylocy"),u(k,"class","section new svelte-uylocy"),u(g,"id","cardDelete"),u(g,"class","svelte-uylocy"),K(g,"fakeHover",l[3]),K(g,"cardIsMoving",l[2]),u(O,"class","section main svelte-uylocy"),u(X,"class","section svelte-uylocy"),u(e,"class","bg svelte-uylocy")},m(b,F){Q(b,e,F),f(e,t),f(t,n),f(t,i),f(t,s),f(s,a),f(e,m),f(e,k),f(k,h),f(h,C),f(k,B),f(k,D),f(D,p),f(k,y),f(k,d),f(d,c),f(k,I),Ie(A,k,null),f(e,W),f(e,O);for(let q=0;q<G.length;q+=1)G[q]&&G[q].m(O,null);f(O,J),f(O,g),l[23](g),f(e,Z),f(e,X),V=!0,H||(M=[S(h,"click",l[13]),S(D,"click",l[14]),S(d,"click",l[15]),S(g,"mouseover",l[24]),S(g,"mouseout",l[25]),S(e,"mousemove",l[7])],H=!0)},p(b,F){const q={};if(F[0]&32&&(q.type=b[5]),F[0]&64&&(q.invisible=!b[6]),A.$set(q),F[0]&771){Y=b[1];let R;for(R=0;R<Y.length;R+=1){const z=_e(b,Y,R);G[R]?G[R].p(z,F):(G[R]=me(z),G[R].c(),G[R].m(O,J))}for(;R<G.length;R+=1)G[R].d(1);G.length=Y.length}(!V||F[0]&8)&&K(g,"fakeHover",b[3]),(!V||F[0]&4)&&K(g,"cardIsMoving",b[2])},i(b){V||(Ne(A.$$.fragment,b),V=!0)},o(b){Te(A.$$.fragment,b),V=!1},d(b){b&&v(e),De(A),Ee(G,b),l[23](null),H=!1,ie(M)}}}function ge(l){return l.getBoundingClientRect().left}function ce(l){return l.getBoundingClientRect().top}function ye(l){return l.getBoundingClientRect().bottom}function Re(l){return l.getBoundingClientRect().width}function ee(l,e){let t=e[0];return e.forEach(n=>{Math.abs(l-n)<Math.abs(l-t)&&(t=n)}),e.indexOf(t)}function Se(l,e,t){let n={x:0,y:0},o=-1,i=[void 0,void 0,void 0],s=[ae({isMoving:!1,title:"Todo",cards:[{moving:!1,type:"text",value:"Hello there"},{moving:!1,type:"text",value:"HEHEHEHAW"}],elements:[]}),ae({isMoving:!1,title:"yup :)",cards:[{moving:!1,type:"text",value:"Hello there"}],elements:[]}),ae({isMoving:!1,title:"Done",cards:[{moving:!1,type:"text",value:"Absolutely nothing"},{moving:!1,type:"text",value:"You are the mega gay"},{moving:!1,type:"image",value:"https://www.xfire.com/wp-content/uploads/2022/08/cropped-walter-white-might-be-headed-to-multiversus-8.jpg.webp"},{moving:!1,type:"link",path:"/",value:"Go back to the homepage :)"}],elements:[]})];s.forEach((r,_)=>{r.subscribe(N=>{t(1,s[_]=N,s)})});function a(r,_,N){var T=r[_];r.splice(_,1),r.splice(N,0,T),t(1,s=r)}function m(r,_,N){const T=(n.x-r)*(n.x-r),le=(n.y-_)*(n.y-_);return T+le<=N*N}function k(r){if(n={x:r.clientX,y:r.clientY},t(3,W=m(75+ge(O),75+ce(O),75)),o!=-1&&s[o].isMoving&&(B=ee(n.x,C),t(0,i[o].style.left=n.x+"px",i),t(0,i[o].style.top=n.y+"px",i)),y&&s[d[0]].cards[d[1]].moving){B=ee(n.x,C),t(1,s[d[0]].elements[d[1]].style.left=n.x+"px",s),t(1,s[d[0]].elements[d[1]].style.top=n.y+"px",s),c[0]=ee(n.x,C);const _=[];for(let N=0;N<s[c[0]].elements.length;N++)if(s[c[0]].elements[N]!=null){if(s[c[0]].elements[N].classList.contains("movingCard"))continue;_.push(ce(s[c[0]].elements[N])-5),s[c[0]].elements.length-N==1&&_.push(ye(s[c[0]].elements[N])+5)}_.sort((N,T)=>N-T),c[1]=ee(n.y,_)}}function h(){C=[];for(let r=0;r<s.length;r++)C.push(ge(i[r]));C.sort((r,_)=>r-_)}let C=[],B=-1,D=-1;function p(r){o!=-1&&!s[r].isMoving||y||(s[r].isMoving?(t(1,s[r].isMoving=!1,s),a(s,D,B),r=B,o=-1,B=-1,D=-1):(t(1,s[r].isMoving=!0,s),o=r,D=r,h(),B=ee(n.x,C),t(0,i[r].style.left=n.x+"px",i),t(0,i[r].style.top=n.y+"px",i)),t(1,s))}let y=!1,d=[-1,-1],c=[-1,-1];function I(r,_){if(s[r].cards[_].moving==y)if(s[r].cards[_].moving){if(s[r].cards[_].moving){if(W){J(r,_);return}t(1,s[r].cards[_].moving=!1,s),t(2,y=!1);const N=s[r].cards.splice(_,1);t(1,s),s[c[0]].cards.splice(c[1],0,...N),t(1,s),t(1,s),d=[-1,-1]}}else{A(r),t(1,s[r].cards[_].moving=!0,s),h();for(let T=0;T<C.length;T++)C[T]+=Re(i[T])/2;d=[r,_],t(2,y=!0),t(1,s[d[0]].elements[d[1]].style.left=n.x+"px",s),t(1,s[d[0]].elements[d[1]].style.top=n.y+"px",s),c[0]=ee(n.x,C);const N=[];for(let T=0;T<s[c[0]].elements.length;T++)s[c[0]].elements[T].classList.contains("movingCard")||(s[c[0]].elements[T]!=null&&N.push(ce(s[c[0]].elements[T])),s[c[0]].elements.length-T==1&&N.push(ye(s[c[0]].elements[T])+10));N.sort((T,le)=>T-le),c[1]=ee(n.y,N)}}function A(r,_){s[r];const N=i[r].querySelectorAll(".element");t(1,s[r].elements=[...N],s);for(let T=0;T<s.length;T++){const le=i[T].querySelectorAll(".element");t(1,s[T].elements=[...le],s)}}let W=!1,O=null;function J(r,_){s[r].cards.splice(_,1),A(r),t(2,y=!1),d=[-1,-1],t(1,s)}let g="text",Z=!1;function X(r){if(s.length==0){alert("You are obligated to create a list before creating a card.");return}t(5,g=r),t(6,Z=!0)}function V(){t(6,Z=!1)}function H(r){t(6,Z=!1),r.moving=!1,console.log(r),s[s.length-1].cards.push(JSON.parse(JSON.stringify(r))),t(1,s),A(s.length-1,s[s.length-1].cards.length-1),I(s.length-1,s[s.length-1].cards.length-1)}const M=()=>{X("text")},Y=()=>{X("image")},G=()=>{X("link")},b=r=>{p(r)},F=r=>{p(r)},q=r=>{},R=r=>{};function z(r,_,N,T){ue[r?"unshift":"push"](()=>{N[T].elements[_]=r,t(1,s)})}const ne=(r,_)=>{I(r,_)};function oe(r,_){ue[r?"unshift":"push"](()=>{i[_]=r,t(0,i)})}function re(r){ue[r?"unshift":"push"](()=>{O=r,t(4,O)})}return[i,s,y,W,O,g,Z,k,p,I,X,V,H,M,Y,G,b,F,q,R,z,ne,oe,re,()=>{t(3,W=!0)},()=>{t(3,W=!1)}]}class Ye extends be{constructor(e){super(),ke(this,e,Se,Oe,Ce,{},null,[-1,-1])}}export{Ye as default};
