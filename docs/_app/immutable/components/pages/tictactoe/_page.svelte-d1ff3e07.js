import{S as _e,i as he,s as de,k as E,a as D,l as I,m as P,c as G,h as d,n as _,b as S,G as w,f as J,t as q,d as j,q as L,r as Q,L as M,g as K,Q as re,R as ne,T as Y,K as fe,p as W,N as T,O as Z,e as B,B as me,P as pe}from"../../../chunks/index-0b1b2b97.js";import{a as A}from"../../../chunks/index-5c142101.js";function F(n,e,i){const s=n.slice();return s[25]=e[i],s[27]=i,s}function H(n,e,i){const s=n.slice();return s[28]=e[i],s[30]=i,s}function U(n){let e,i,s,l,t,r,a,o,c=JSON.stringify(n[5])==JSON.stringify(n[7]),u,f,k,R,O,p=c&&X(n),N=n[5],y=[];for(let h=0;h<N.length;h+=1)y[h]=ee(F(n,N,h));return{c(){e=E("div"),i=E("div"),s=E("img"),t=D(),r=E("p"),a=L("Turn"),o=D(),p&&p.c(),u=D(),f=E("div");for(let h=0;h<y.length;h+=1)y[h].c();this.h()},l(h){e=I(h,"DIV",{class:!0});var b=P(e);i=I(b,"DIV",{class:!0});var v=P(i);s=I(v,"IMG",{alt:!0,src:!0,class:!0}),t=G(v),r=I(v,"P",{class:!0});var V=P(r);a=Q(V,"Turn"),V.forEach(d),v.forEach(d),o=G(b),p&&p.l(b),u=G(b),f=I(b,"DIV",{class:!0});var C=P(f);for(let z=0;z<y.length;z+=1)y[z].l(C);C.forEach(d),b.forEach(d),this.h()},h(){_(s,"alt","turn"),M(s.src,l=n[6][n[3]%2+1])||_(s,"src",l),_(s,"class","svelte-1xff30h"),_(r,"class","svelte-1xff30h"),_(i,"class","turnIndicator svelte-1xff30h"),_(f,"class","board svelte-1xff30h"),_(e,"class","gaming svelte-1xff30h")},m(h,b){S(h,e,b),w(e,i),w(i,s),w(i,t),w(i,r),w(r,a),w(e,o),p&&p.m(e,null),w(e,u),w(e,f);for(let v=0;v<y.length;v+=1)y[v].m(f,null);n[17](f),O=!0},p(h,b){if((!O||b&8&&!M(s.src,l=h[6][h[3]%2+1]))&&_(s,"src",l),b&32&&(c=JSON.stringify(h[5])==JSON.stringify(h[7])),c?p?(p.p(h,b),b&32&&J(p,1)):(p=X(h),p.c(),J(p,1),p.m(e,u)):p&&(K(),q(p,1,1,()=>{p=null}),j()),b&608){N=h[5];let v;for(v=0;v<N.length;v+=1){const V=F(h,N,v);y[v]?y[v].p(V,b):(y[v]=ee(V),y[v].c(),y[v].m(f,null))}for(;v<y.length;v+=1)y[v].d(1);y.length=N.length}},i(h){O||(J(p),re(()=>{R&&R.end(1),k=ne(e,A,{duration:500,delay:750}),k.start()}),O=!0)},o(h){q(p),k&&k.invalidate(),R=Y(e,A,{duration:500}),O=!1},d(h){h&&d(e),p&&p.d(),fe(y,h),n[17](null),h&&R&&R.end()}}}function X(n){let e,i,s,l,t,r,a,o,c,u;return{c(){e=E("div"),i=E("img"),l=D(),t=E("img"),this.h()},l(f){e=I(f,"DIV",{class:!0});var k=P(e);i=I(k,"IMG",{style:!0,class:!0,src:!0,alt:!0}),l=G(k),t=I(k,"IMG",{style:!0,class:!0,src:!0,alt:!0}),k.forEach(d),this.h()},h(){W(i,"--rad",(n[4]?2:0)+"px"),_(i,"class","playerButton svelte-1xff30h"),M(i.src,s="https://cdn-icons-png.flaticon.com/512/38/38490.png")||_(i,"src",s),_(i,"alt","1player"),W(t,"--rad",(n[4]?0:2)+"px"),_(t,"class","playerButton svelte-1xff30h"),M(t.src,r="https://cdn-icons-png.flaticon.com/512/39/39739.png")||_(t,"src",r),_(t,"alt","2player"),_(e,"class","playerCount svelte-1xff30h")},m(f,k){S(f,e,k),w(e,i),w(e,l),w(e,t),o=!0,c||(u=[T(i,"click",n[11]),T(i,"keydown",n[12]),T(t,"click",n[13]),T(t,"keydown",n[14])],c=!0)},p(f,k){(!o||k&16)&&W(i,"--rad",(f[4]?2:0)+"px"),(!o||k&16)&&W(t,"--rad",(f[4]?0:2)+"px")},i(f){o||(a&&a.end(1),o=!0)},o(f){a=Y(e,A,{duration:500}),o=!1},d(f){f&&d(e),f&&a&&a.end(),c=!1,Z(u)}}}function $(n){let e,i;return{c(){e=E("img"),this.h()},l(s){e=I(s,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){_(e,"alt","piece"),M(e.src,i=n[6][n[28]])||_(e,"src",i),_(e,"class","svelte-1xff30h")},m(s,l){S(s,e,l)},p(s,l){l&32&&!M(e.src,i=s[6][s[28]])&&_(e,"src",i)},d(s){s&&d(e)}}}function x(n){let e,i,s,l,t=n[28]!=0&&$(n);function r(){return n[15](n[27],n[30])}function a(){return n[16](n[27],n[30])}return{c(){e=E("div"),t&&t.c(),i=D(),this.h()},l(o){e=I(o,"DIV",{class:!0});var c=P(e);t&&t.l(c),i=G(c),c.forEach(d),this.h()},h(){_(e,"class","piece svelte-1xff30h")},m(o,c){S(o,e,c),t&&t.m(e,null),w(e,i),s||(l=[T(e,"click",r),T(e,"keydown",a)],s=!0)},p(o,c){n=o,n[28]!=0?t?t.p(n,c):(t=$(n),t.c(),t.m(e,i)):t&&(t.d(1),t=null)},d(o){o&&d(e),t&&t.d(),s=!1,Z(l)}}}function ee(n){let e,i=n[25],s=[];for(let l=0;l<i.length;l+=1)s[l]=x(H(n,i,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=B()},l(l){for(let t=0;t<s.length;t+=1)s[t].l(l);e=B()},m(l,t){for(let r=0;r<s.length;r+=1)s[r].m(l,t);S(l,e,t)},p(l,t){if(t&608){i=l[25];let r;for(r=0;r<i.length;r+=1){const a=H(l,i,r);s[r]?s[r].p(a,t):(s[r]=x(a),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(l){fe(s,l),l&&d(e)}}}function le(n){let e,i,s,l,t,r,a,o=n[2]!=0&&te(n),c=n[2]==0&&se(n);return{c(){e=E("div"),o&&o.c(),i=D(),c&&c.c(),this.h()},l(u){e=I(u,"DIV",{class:!0});var f=P(e);o&&o.l(f),i=G(f),c&&c.l(f),f.forEach(d),this.h()},h(){_(e,"class","endScreen svelte-1xff30h")},m(u,f){S(u,e,f),o&&o.m(e,null),w(e,i),c&&c.m(e,null),t=!0,r||(a=[T(e,"click",n[18]),T(e,"keydown",n[19])],r=!0)},p(u,f){u[2]!=0?o?o.p(u,f):(o=te(u),o.c(),o.m(e,i)):o&&(o.d(1),o=null),u[2]==0?c?c.p(u,f):(c=se(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(u){t||(re(()=>{l&&l.end(1),s=ne(e,A,{duration:500,delay:750}),s.start()}),t=!0)},o(u){s&&s.invalidate(),l=Y(e,A,{duration:500}),t=!1},d(u){u&&d(e),o&&o.d(),c&&c.d(),u&&l&&l.end(),r=!1,Z(a)}}}function te(n){let e,i,s,l,t;return{c(){e=E("img"),s=D(),l=E("p"),t=L("WINNER!"),this.h()},l(r){e=I(r,"IMG",{id:!0,alt:!0,src:!0,class:!0}),s=G(r),l=I(r,"P",{class:!0});var a=P(l);t=Q(a,"WINNER!"),a.forEach(d),this.h()},h(){_(e,"id","winnerIcon"),_(e,"alt","icon"),M(e.src,i=n[6][n[2]])||_(e,"src",i),_(e,"class","svelte-1xff30h"),_(l,"class","svelte-1xff30h")},m(r,a){S(r,e,a),S(r,s,a),S(r,l,a),w(l,t)},p(r,a){a&4&&!M(e.src,i=r[6][r[2]])&&_(e,"src",i)},d(r){r&&d(e),r&&d(s),r&&d(l)}}}function se(n){let e,i,s,l,t,r,a,o;return{c(){e=E("img"),s=D(),l=E("img"),r=D(),a=E("p"),o=L("DRAW!"),this.h()},l(c){e=I(c,"IMG",{alt:!0,src:!0,class:!0}),s=G(c),l=I(c,"IMG",{alt:!0,src:!0,class:!0}),r=G(c),a=I(c,"P",{class:!0});var u=P(a);o=Q(u,"DRAW!"),u.forEach(d),this.h()},h(){_(e,"alt","icon1"),M(e.src,i=n[6][1])||_(e,"src",i),_(e,"class","svelte-1xff30h"),_(l,"alt","icon2"),M(l.src,t=n[6][2])||_(l,"src",t),_(l,"class","svelte-1xff30h"),_(a,"class","svelte-1xff30h")},m(c,u){S(c,e,u),S(c,s,u),S(c,l,u),S(c,r,u),S(c,a,u),w(a,o)},p:me,d(c){c&&d(e),c&&d(s),c&&d(l),c&&d(r),c&&d(a)}}}function ve(n){let e,i,s,l=!n[1]&&U(n),t=n[1]&&le(n);return{c(){e=E("body"),l&&l.c(),i=D(),t&&t.c(),this.h()},l(r){e=I(r,"BODY",{class:!0});var a=P(e);l&&l.l(a),i=G(a),t&&t.l(a),a.forEach(d),this.h()},h(){_(e,"class","screen svelte-1xff30h")},m(r,a){S(r,e,a),l&&l.m(e,null),w(e,i),t&&t.m(e,null),s=!0},p(r,[a]){r[1]?l&&(K(),q(l,1,1,()=>{l=null}),j()):l?(l.p(r,a),a&2&&J(l,1)):(l=U(r),l.c(),J(l,1),l.m(e,i)),r[1]?t?(t.p(r,a),a&2&&J(t,1)):(t=le(r),t.c(),J(t,1),t.m(e,null)):t&&(K(),q(t,1,1,()=>{t=null}),j())},i(r){s||(J(l),J(t),s=!0)},o(r){q(l),q(t),s=!1},d(r){r&&d(e),l&&l.d(),t&&t.d()}}}function ie(n){return JSON.parse(JSON.stringify(n))}function ge(n){let e=0;return n.forEach(i=>{e+=i.filter(s=>s===0).length}),e}function ae(n,e){return Math.floor(Math.random()*(e-n+1)+n)}function ke(n){let e=ge(n),i=ae(0,e-1),s=0;for(let l=0;l<n.length;l++){const t=n[l];for(let r=0;r<t.length;r++){const a=t[r];if(a==0&&s==i)return n[l][r]=2,n;a==0&&s++}}return n}function ye(n,e,i){let s,l=!0,t=!1,r=0,a=0,o=!0,c=["","https://cdn-icons-png.flaticon.com/512/57/57165.png","https://cdn-icons-png.flaticon.com/512/71/71397.png"];const u=[[0,0,0],[0,0,0],[0,0,0]];let f=ie(u);function k(){i(3,a=0),l=!0,i(1,t=!1),i(5,f=ie(u))}async function R(){await new Promise(g=>setTimeout(g,ae(250,750))),i(5,f=ke(f)),i(5,f),i(3,a++,a),p()}function O(g,m){o&&a%2==1||f[g][m]!=0||!l||(i(5,f[g][m]=a%2+1,f),i(3,a++,a),i(5,f),p(),l&&o&&R())}function p(){f.forEach(m=>{if(m[0]==m[1]&&m[0]==m[2]&&m[0]!=0){N(m[0]);return}});for(let m=0;m<3;m++)if(f[0][m]==f[1][m]&&f[0][m]==f[2][m]&&f[0][m]!=0){N(f[0][m]);return}if(f[0][0]==f[1][1]&&f[0][0]==f[2][2]&&f[0][0]!=0){N(f[0][0]);return}else if(f[0][2]==f[1][1]&&f[0][2]==f[2][0]&&f[0][2]!=0){N(f[0][2]);return}let g=!0;f.forEach(m=>{m.forEach(ue=>{ue==0&&(g=!1)})}),g&&N(0)}function N(g){s.style.setProperty("--gridSize","150px"),s.style.setProperty("--gapSize","15px"),i(2,r=g),l=!1,y()}async function y(){await new Promise(g=>setTimeout(g,500)),i(1,t=!0)}function h(g){i(4,o=g)}const b=()=>{h(!0)},v=()=>{h(!0)},V=()=>{h(!1)},C=()=>{h(!1)},z=(g,m)=>{O(g,m)},ce=(g,m)=>{O(g,m)};function oe(g){pe[g?"unshift":"push"](()=>{s=g,i(0,s)})}return[s,t,r,a,o,f,c,u,k,O,h,b,v,V,C,z,ce,oe,()=>{k()},()=>{k()}]}class Se extends _e{constructor(e){super(),he(this,e,ye,ve,de,{})}}export{Se as default};
