import{S as _e,i as he,s as de,k as E,a as N,l as I,m as P,c as G,h as d,n as _,b as S,E as w,f as O,t as q,d as j,q as Q,r as Y,D as J,g as F,Q as re,R as ne,T as Z,J as ae,p as W,F as T,O as B,e as H,B as me,P as pe}from"../../../chunks/index-76a51a98.js";import{a as A}from"../../../chunks/index-0268f353.js";/* empty css                            */function K(n,e,s){const i=n.slice();return i[25]=e[s],i[27]=s,i}function L(n,e,s){const i=n.slice();return i[28]=e[s],i[30]=s,i}function U(n){let e,s,i,l,t,r,c,o,f=JSON.stringify(n[5])==JSON.stringify(n[7]),u,a,k,R,M,p=f&&X(n),D=n[5],y=[];for(let h=0;h<D.length;h+=1)y[h]=ee(K(n,D,h));return{c(){e=E("div"),s=E("div"),i=E("img"),t=N(),r=E("p"),c=Q("Turn"),o=N(),p&&p.c(),u=N(),a=E("div");for(let h=0;h<y.length;h+=1)y[h].c();this.h()},l(h){e=I(h,"DIV",{class:!0});var b=P(e);s=I(b,"DIV",{class:!0});var v=P(s);i=I(v,"IMG",{alt:!0,src:!0,class:!0}),t=G(v),r=I(v,"P",{class:!0});var V=P(r);c=Y(V,"Turn"),V.forEach(d),v.forEach(d),o=G(b),p&&p.l(b),u=G(b),a=I(b,"DIV",{class:!0});var C=P(a);for(let z=0;z<y.length;z+=1)y[z].l(C);C.forEach(d),b.forEach(d),this.h()},h(){_(i,"alt","turn"),J(i.src,l=n[6][n[3]%2+1])||_(i,"src",l),_(i,"class","svelte-i3al32"),_(r,"class","svelte-i3al32"),_(s,"class","turnIndicator svelte-i3al32"),_(a,"class","board svelte-i3al32"),_(e,"class","gaming svelte-i3al32")},m(h,b){S(h,e,b),w(e,s),w(s,i),w(s,t),w(s,r),w(r,c),w(e,o),p&&p.m(e,null),w(e,u),w(e,a);for(let v=0;v<y.length;v+=1)y[v].m(a,null);n[17](a),M=!0},p(h,b){if((!M||b&8&&!J(i.src,l=h[6][h[3]%2+1]))&&_(i,"src",l),b&32&&(f=JSON.stringify(h[5])==JSON.stringify(h[7])),f?p?(p.p(h,b),b&32&&O(p,1)):(p=X(h),p.c(),O(p,1),p.m(e,u)):p&&(F(),q(p,1,1,()=>{p=null}),j()),b&608){D=h[5];let v;for(v=0;v<D.length;v+=1){const V=K(h,D,v);y[v]?y[v].p(V,b):(y[v]=ee(V),y[v].c(),y[v].m(a,null))}for(;v<y.length;v+=1)y[v].d(1);y.length=D.length}},i(h){M||(O(p),re(()=>{R&&R.end(1),k=ne(e,A,{duration:500,delay:750}),k.start()}),M=!0)},o(h){q(p),k&&k.invalidate(),R=Z(e,A,{duration:500}),M=!1},d(h){h&&d(e),p&&p.d(),ae(y,h),n[17](null),h&&R&&R.end()}}}function X(n){let e,s,i,l,t,r,c,o,f,u;return{c(){e=E("div"),s=E("img"),l=N(),t=E("img"),this.h()},l(a){e=I(a,"DIV",{class:!0});var k=P(e);s=I(k,"IMG",{style:!0,class:!0,src:!0,alt:!0}),l=G(k),t=I(k,"IMG",{style:!0,class:!0,src:!0,alt:!0}),k.forEach(d),this.h()},h(){W(s,"--rad",(n[4]?2:0)+"px"),_(s,"class","playerButton svelte-i3al32"),J(s.src,i="https://cdn-icons-png.flaticon.com/512/38/38490.png")||_(s,"src",i),_(s,"alt","1player"),W(t,"--rad",(n[4]?0:2)+"px"),_(t,"class","playerButton svelte-i3al32"),J(t.src,r="https://cdn-icons-png.flaticon.com/512/39/39739.png")||_(t,"src",r),_(t,"alt","2player"),_(e,"class","playerCount svelte-i3al32")},m(a,k){S(a,e,k),w(e,s),w(e,l),w(e,t),o=!0,f||(u=[T(s,"click",n[11]),T(s,"keydown",n[12]),T(t,"click",n[13]),T(t,"keydown",n[14])],f=!0)},p(a,k){(!o||k&16)&&W(s,"--rad",(a[4]?2:0)+"px"),(!o||k&16)&&W(t,"--rad",(a[4]?0:2)+"px")},i(a){o||(c&&c.end(1),o=!0)},o(a){c=Z(e,A,{duration:500}),o=!1},d(a){a&&d(e),a&&c&&c.end(),f=!1,B(u)}}}function $(n){let e,s;return{c(){e=E("img"),this.h()},l(i){e=I(i,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){_(e,"alt","piece"),J(e.src,s=n[6][n[28]])||_(e,"src",s),_(e,"class","svelte-i3al32")},m(i,l){S(i,e,l)},p(i,l){l&32&&!J(e.src,s=i[6][i[28]])&&_(e,"src",s)},d(i){i&&d(e)}}}function x(n){let e,s,i,l,t=n[28]!=0&&$(n);function r(){return n[15](n[27],n[30])}function c(){return n[16](n[27],n[30])}return{c(){e=E("div"),t&&t.c(),s=N(),this.h()},l(o){e=I(o,"DIV",{class:!0});var f=P(e);t&&t.l(f),s=G(f),f.forEach(d),this.h()},h(){_(e,"class","piece svelte-i3al32")},m(o,f){S(o,e,f),t&&t.m(e,null),w(e,s),i||(l=[T(e,"click",r),T(e,"keydown",c)],i=!0)},p(o,f){n=o,n[28]!=0?t?t.p(n,f):(t=$(n),t.c(),t.m(e,s)):t&&(t.d(1),t=null)},d(o){o&&d(e),t&&t.d(),i=!1,B(l)}}}function ee(n){let e,s=n[25],i=[];for(let l=0;l<s.length;l+=1)i[l]=x(L(n,s,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=H()},l(l){for(let t=0;t<i.length;t+=1)i[t].l(l);e=H()},m(l,t){for(let r=0;r<i.length;r+=1)i[r].m(l,t);S(l,e,t)},p(l,t){if(t&608){s=l[25];let r;for(r=0;r<s.length;r+=1){const c=L(l,s,r);i[r]?i[r].p(c,t):(i[r]=x(c),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(l){ae(i,l),l&&d(e)}}}function le(n){let e,s,i,l,t,r,c,o=n[2]!=0&&te(n),f=n[2]==0&&ie(n);return{c(){e=E("div"),o&&o.c(),s=N(),f&&f.c(),this.h()},l(u){e=I(u,"DIV",{class:!0});var a=P(e);o&&o.l(a),s=G(a),f&&f.l(a),a.forEach(d),this.h()},h(){_(e,"class","endScreen svelte-i3al32")},m(u,a){S(u,e,a),o&&o.m(e,null),w(e,s),f&&f.m(e,null),t=!0,r||(c=[T(e,"click",n[18]),T(e,"keydown",n[19])],r=!0)},p(u,a){u[2]!=0?o?o.p(u,a):(o=te(u),o.c(),o.m(e,s)):o&&(o.d(1),o=null),u[2]==0?f?f.p(u,a):(f=ie(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(u){t||(re(()=>{l&&l.end(1),i=ne(e,A,{duration:500,delay:750}),i.start()}),t=!0)},o(u){i&&i.invalidate(),l=Z(e,A,{duration:500}),t=!1},d(u){u&&d(e),o&&o.d(),f&&f.d(),u&&l&&l.end(),r=!1,B(c)}}}function te(n){let e,s,i,l,t;return{c(){e=E("img"),i=N(),l=E("p"),t=Q("WINNER!"),this.h()},l(r){e=I(r,"IMG",{id:!0,alt:!0,src:!0,class:!0}),i=G(r),l=I(r,"P",{class:!0});var c=P(l);t=Y(c,"WINNER!"),c.forEach(d),this.h()},h(){_(e,"id","winnerIcon"),_(e,"alt","icon"),J(e.src,s=n[6][n[2]])||_(e,"src",s),_(e,"class","svelte-i3al32"),_(l,"class","svelte-i3al32")},m(r,c){S(r,e,c),S(r,i,c),S(r,l,c),w(l,t)},p(r,c){c&4&&!J(e.src,s=r[6][r[2]])&&_(e,"src",s)},d(r){r&&d(e),r&&d(i),r&&d(l)}}}function ie(n){let e,s,i,l,t,r,c,o;return{c(){e=E("img"),i=N(),l=E("img"),r=N(),c=E("p"),o=Q("DRAW!"),this.h()},l(f){e=I(f,"IMG",{alt:!0,src:!0,class:!0}),i=G(f),l=I(f,"IMG",{alt:!0,src:!0,class:!0}),r=G(f),c=I(f,"P",{class:!0});var u=P(c);o=Y(u,"DRAW!"),u.forEach(d),this.h()},h(){_(e,"alt","icon1"),J(e.src,s=n[6][1])||_(e,"src",s),_(e,"class","svelte-i3al32"),_(l,"alt","icon2"),J(l.src,t=n[6][2])||_(l,"src",t),_(l,"class","svelte-i3al32"),_(c,"class","svelte-i3al32")},m(f,u){S(f,e,u),S(f,i,u),S(f,l,u),S(f,r,u),S(f,c,u),w(c,o)},p:me,d(f){f&&d(e),f&&d(i),f&&d(l),f&&d(r),f&&d(c)}}}function ve(n){let e,s,i,l=!n[1]&&U(n),t=n[1]&&le(n);return{c(){e=E("body"),l&&l.c(),s=N(),t&&t.c(),this.h()},l(r){e=I(r,"BODY",{class:!0});var c=P(e);l&&l.l(c),s=G(c),t&&t.l(c),c.forEach(d),this.h()},h(){_(e,"class","screen svelte-i3al32")},m(r,c){S(r,e,c),l&&l.m(e,null),w(e,s),t&&t.m(e,null),i=!0},p(r,[c]){r[1]?l&&(F(),q(l,1,1,()=>{l=null}),j()):l?(l.p(r,c),c&2&&O(l,1)):(l=U(r),l.c(),O(l,1),l.m(e,s)),r[1]?t?(t.p(r,c),c&2&&O(t,1)):(t=le(r),t.c(),O(t,1),t.m(e,null)):t&&(F(),q(t,1,1,()=>{t=null}),j())},i(r){i||(O(l),O(t),i=!0)},o(r){q(l),q(t),i=!1},d(r){r&&d(e),l&&l.d(),t&&t.d()}}}function se(n){return JSON.parse(JSON.stringify(n))}function ge(n){let e=0;return n.forEach(s=>{e+=s.filter(i=>i===0).length}),e}function ce(n,e){return Math.floor(Math.random()*(e-n+1)+n)}function ke(n){let e=ge(n),s=ce(0,e-1),i=0;for(let l=0;l<n.length;l++){const t=n[l];for(let r=0;r<t.length;r++){const c=t[r];if(c==0&&i==s)return n[l][r]=2,n;c==0&&i++}}return n}function ye(n,e,s){let i,l=!0,t=!1,r=0,c=0,o=!0,f=["","https://cdn-icons-png.flaticon.com/512/57/57165.png","https://cdn-icons-png.flaticon.com/512/71/71397.png"];const u=[[0,0,0],[0,0,0],[0,0,0]];let a=se(u);function k(){s(3,c=0),l=!0,s(1,t=!1),s(5,a=se(u))}async function R(){await new Promise(g=>setTimeout(g,ce(250,750))),s(5,a=ke(a)),s(5,a),s(3,c++,c),p()}function M(g,m){o&&c%2==1||a[g][m]!=0||!l||(s(5,a[g][m]=c%2+1,a),s(3,c++,c),s(5,a),p(),l&&o&&R())}function p(){a.forEach(m=>{if(m[0]==m[1]&&m[0]==m[2]&&m[0]!=0){D(m[0]);return}});for(let m=0;m<3;m++)if(a[0][m]==a[1][m]&&a[0][m]==a[2][m]&&a[0][m]!=0){D(a[0][m]);return}if(a[0][0]==a[1][1]&&a[0][0]==a[2][2]&&a[0][0]!=0){D(a[0][0]);return}else if(a[0][2]==a[1][1]&&a[0][2]==a[2][0]&&a[0][2]!=0){D(a[0][2]);return}let g=!0;a.forEach(m=>{m.forEach(ue=>{ue==0&&(g=!1)})}),g&&D(0)}function D(g){i.style.setProperty("--gridSize","150px"),i.style.setProperty("--gapSize","15px"),s(2,r=g),l=!1,y()}async function y(){await new Promise(g=>setTimeout(g,500)),s(1,t=!0)}function h(g){s(4,o=g)}const b=()=>{h(!0)},v=()=>{h(!0)},V=()=>{h(!1)},C=()=>{h(!1)},z=(g,m)=>{M(g,m)},fe=(g,m)=>{M(g,m)};function oe(g){pe[g?"unshift":"push"](()=>{i=g,s(0,i)})}return[i,t,r,c,o,a,f,u,k,M,h,b,v,V,C,z,fe,oe,()=>{k()},()=>{k()}]}class De extends _e{constructor(e){super(),he(this,e,ye,ve,de,{})}}export{De as default};
